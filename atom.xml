<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Markey&#39;s home</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.markeyme.cn/"/>
  <updated>2018-06-10T03:26:53.616Z</updated>
  <id>https://blog.markeyme.cn/</id>
  
  <author>
    <name>Markey</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ</title>
    <link href="https://blog.markeyme.cn/2018/06/09/ES6%E5%BC%82%E6%AD%A5%E6%96%B9%E5%BC%8F%E5%85%A8%E9%9D%A2%E8%A7%A3%E6%9E%90/"/>
    <id>https://blog.markeyme.cn/2018/06/09/ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ/</id>
    <published>2018-06-09T03:25:30.000Z</published>
    <updated>2018-06-10T03:26:53.616Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ"><a href="#ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ" class="headerlink" title="ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ"></a>ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ</h1><p>ä¼—æ‰€å‘¨çŸ¥JSæ˜¯å•çº¿ç¨‹çš„ï¼Œè¿™ç§è®¾è®¡è®©JSé¿å…äº†å¤šçº¿ç¨‹çš„å„ç§é—®é¢˜ï¼Œä½†åŒæ—¶ä¹Ÿè®©JSåŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œè‹¥è¿™ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´å¾ˆé•¿çš„è¯ï¼ˆå¦‚æ­»å¾ªç¯ï¼‰ï¼Œä¼šå¯¼è‡´JSç›´æ¥å¡æ­»ï¼Œåœ¨æµè§ˆå™¨ä¸­çš„è¡¨ç°å°±æ˜¯é¡µé¢æ— å“åº”ï¼Œç”¨æˆ·ä½“éªŒéå¸¸ä¹‹å·®ã€‚</p><p>å› æ­¤ï¼Œåœ¨JSä¸­æœ‰ä¸¤ç§ä»»åŠ¡æ‰§è¡Œæ¨¡å¼ï¼š<strong>åŒæ­¥ï¼ˆSynchronousï¼‰å’Œå¼‚æ­¥ï¼ˆAsynchronousï¼‰</strong>ã€‚ç±»ä¼¼å‡½æ•°è°ƒç”¨ã€æµç¨‹æ§åˆ¶è¯­å¥ã€è¡¨è¾¾å¼è®¡ç®—ç­‰å°±æ˜¯ä»¥åŒæ­¥æ–¹å¼è¿è¡Œçš„ï¼Œè€Œå¼‚æ­¥ä¸»è¦ç”±<code>setTimeout/setInterval</code>ã€äº‹ä»¶å®ç°ã€‚</p><hr><h3 id="ä¼ ç»Ÿçš„å¼‚æ­¥å®ç°"><a href="#ä¼ ç»Ÿçš„å¼‚æ­¥å®ç°" class="headerlink" title="ä¼ ç»Ÿçš„å¼‚æ­¥å®ç°"></a>ä¼ ç»Ÿçš„å¼‚æ­¥å®ç°</h3><p>ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œæ— è®ºæ˜¯æµè§ˆå™¨ç«¯è¿˜æ˜¯Nodeï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä½¿ç”¨è¿‡äº‹ä»¶å§ï¼Œé€šè¿‡äº‹ä»¶è‚¯å®šå°±èƒ½æƒ³åˆ°<strong>å›è°ƒå‡½æ•°</strong>ï¼Œå®ƒå°±æ˜¯å®ç°å¼‚æ­¥æœ€å¸¸ç”¨ã€æœ€ä¼ ç»Ÿçš„æ–¹å¼ã€‚</p><p>ä¸è¿‡è¦æ³¨æ„ï¼Œä¸è¦ä»¥ä¸ºå›è°ƒå‡½æ•°å°±éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå¦‚ES5çš„æ•°ç»„æ–¹æ³•<code>Array.prototype.forEach((ele) =&gt; {})</code>ç­‰ç­‰ï¼Œå®ƒä»¬ä¹Ÿæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚å›è°ƒå‡½æ•°åªæ˜¯ä¸€ç§å¤„ç†å¼‚æ­¥çš„æ–¹å¼ï¼Œå±äºå‡½æ•°å¼ç¼–ç¨‹ä¸­<strong>é«˜é˜¶å‡½æ•°</strong>çš„ä¸€ç§ï¼Œå¹¶ä¸åªåœ¨å¤„ç†å¼‚æ­¥é—®é¢˜ä¸­ä½¿ç”¨ã€‚</p><p>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€å¸¸è§çš„ajaxå›è°ƒ</span></span><br><span class="line"><span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">    params: params</span><br><span class="line">&#125;, (res) =&gt; &#123;</span><br><span class="line">    <span class="comment">// do something...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½è§‰å¾—è¿™æ ·å¹¶æ²¡æœ‰ä»€ä¹ˆä¸å¦¥ï¼Œä½†æ˜¯è‹¥æœ‰å¤šä¸ªajaxæˆ–è€…å¼‚æ­¥æ“ä½œéœ€è¦ä¾æ¬¡å®Œæˆå‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">    params: params</span><br><span class="line">&#125;, (res) =&gt; &#123;</span><br><span class="line">    <span class="comment">// do something...</span></span><br><span class="line">    <span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">      params: params</span><br><span class="line">    &#125;, (res) =&gt; &#123;</span><br><span class="line">        <span class="comment">// do something...</span></span><br><span class="line">        <span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">          params: params</span><br><span class="line">        &#125;, (res) =&gt; &#123;</span><br><span class="line">          <span class="comment">// do something...</span></span><br><span class="line">        &#125;)</span><br><span class="line">        ...</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å›è°ƒåœ°ç‹±å°±å‡ºç°äº†ã€‚ã€‚ã€‚ğŸ˜¢</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç¤¾åŒºä¸­æå‡ºäº†<strong>Promise</strong>æ–¹æ¡ˆï¼Œå¹¶ä¸”è¯¥æ–¹æ¡ˆåœ¨ES6ä¸­è¢«æ ‡å‡†åŒ–ï¼Œå¦‚ä»Šå·²å¹¿æ³›ä½¿ç”¨ã€‚</p><hr><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>ä½¿ç”¨Promiseçš„å¥½å¤„å°±æ˜¯è®©å¼€å‘è€…è¿œç¦»äº†å›è°ƒåœ°ç‹±çš„å›°æ‰°ï¼Œå®ƒå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><p>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼š</p><ul><li>Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚</li><li>åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚</li></ul></li><li><p>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚</p><ul><li>Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»Pendingå˜ä¸ºResolvedå’Œä»Pendingå˜ä¸ºRejectedã€‚</li><li>åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚</li><li>å¦‚æœæ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚</li><li>è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚</li></ul></li><li><p>ä¸€æ—¦å£°æ˜Promiseå¯¹è±¡ï¼ˆnew Promiseæˆ–Promise.resolveç­‰ï¼‰ï¼Œå°±ä¼šç«‹å³æ‰§è¡Œå®ƒçš„å‡½æ•°å‚æ•°ï¼Œè‹¥ä¸æ˜¯å‡½æ•°å‚æ•°åˆ™ä¸ä¼šæ‰§è¡Œ</p></li></ol><p>ä¸Šé¢çš„ä»£ç å¯ä»¥æ”¹å†™æˆå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">    params: params</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// do something...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">        params: params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// do something...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.ajax(<span class="string">'/path/to/api'</span>, &#123;</span><br><span class="line">        params: params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥å°±ç›´è§‚å¤šäº†ï¼Œå°±åƒä¸€ä¸ªé“¾æ¡ä¸€æ ·å°†å¤šä¸ªæ“ä½œä¾æ¬¡ä¸²äº†èµ·æ¥ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒå›è°ƒäº†~ğŸ˜„</p><p>åŒæ—¶Promiseè¿˜æœ‰è®¸å¤šå…¶ä»–APIï¼Œå¦‚<code>Promise.all</code>ã€<code>Promise.race</code>ã€<code>Promise.resolve/reject</code>ç­‰ç­‰ï¼ˆå¯ä»¥å‚è€ƒ<a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">é˜®è€å¸ˆçš„æ–‡ç« </a>ï¼‰ï¼Œåœ¨éœ€è¦çš„æ—¶å€™é…åˆä½¿ç”¨éƒ½æ˜¯æå¥½çš„ã€‚</p><p>APIæ— éœ€å¤šè¯´ï¼Œä¸è¿‡è¿™é‡Œæˆ‘æ€»ç»“äº†ä¸€ä¸‹è‡ªå·±ä¹‹å‰ä½¿ç”¨Promiseè¸©åˆ°çš„å‘ä»¥åŠæˆ‘å¯¹Promiseç†è§£ä¸å¤Ÿé€å½»çš„åœ°æ–¹ï¼Œå¸Œæœ›ä¹Ÿèƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ä½¿ç”¨Promiseï¼š</p><ol><li><p><strong>thençš„è¿”å›ç»“æœ</strong>ï¼š</p><ul><li>å¦‚æœ<code>then</code>æ–¹æ³•ä¸­è¿”å›äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªâ€œæ–°çš„â€resolvedçš„Promiseï¼Œå¹¶ä¸”resolveå›è°ƒå‡½æ•°çš„å‚æ•°å€¼æ˜¯è¿™ä¸ªå€¼</li><li>å¦‚æœ<code>then</code>æ–¹æ³•ä¸­æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªâ€œæ–°çš„â€rejectedçŠ¶æ€çš„Promise</li><li>å¦‚æœ<code>then</code>æ–¹æ³•è¿”å›äº†ä¸€ä¸ªæœªçŸ¥çŠ¶æ€ï¼ˆpendingï¼‰çš„Promiseæ–°å®ä¾‹ï¼Œé‚£ä¹ˆè¿”å›çš„æ–°Promiseå°±æ˜¯æœªçŸ¥çŠ¶æ€</li><li><p>å¦‚æœ<code>then</code>æ–¹æ³•æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œé‚£ä¹ˆä¼šè¿”å›ä¸€ä¸ªâ€œæ–°çš„â€resolvedçš„Promiseï¼Œä½†resolveå›è°ƒå‡½æ•°æ²¡æœ‰å‚æ•°</p><p>æˆ‘ä¹‹å‰å¤©çœŸçš„ä»¥ä¸º<code>then</code>è¦æƒ³é“¾å¼è°ƒç”¨ï¼Œå¿…é¡»è¦æ‰‹åŠ¨è¿”å›ä¸€ä¸ªæ–°çš„Promiseæ‰è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="string">'first promise'</span>)</span><br><span class="line">.then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// return Promise.resolve('next promise')</span></span><br><span class="line">    <span class="comment">// å®é™…ä¸Šä¸¤ç§è¿”å›æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'next promise'</span></span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>ä¸€ä¸ªPromiseå¯è®¾ç½®å¤šä¸ªthenå›è°ƒï¼Œä¼šæŒ‰å®šä¹‰é¡ºåºæ‰§è¡Œ</strong>ï¼Œå¦‚ä¸‹</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  res(<span class="string">'hahaha'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">p.then(<span class="built_in">console</span>.log)</span><br><span class="line">p.then(<span class="built_in">console</span>.warn)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ç§æ–¹å¼ä¸é“¾å¼è°ƒç”¨ä¸è¦ææ··ï¼Œé“¾å¼è°ƒç”¨å®é™…ä¸Šæ˜¯thenæ–¹æ³•è¿”å›äº†æ–°çš„Promiseï¼Œè€Œä¸æ˜¯åŸæœ‰çš„ï¼Œå¯ä»¥éªŒè¯ä¸€ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">123</span>)</span><br><span class="line"><span class="keyword">const</span> p2 = p1.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(p1 === p2)</span><br><span class="line">    <span class="comment">// false</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong><code>then</code>æˆ–<code>catch</code>è¿”å›çš„å€¼ä¸èƒ½æ˜¯å½“å‰promiseæœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯</strong>ï¼š</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="built_in">Promise</span>.resolve()</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> promise</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong><code>then</code>æˆ–è€…<code>catch</code>çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼ç©¿é€</strong>ï¼š</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1</span>)</span><br><span class="line">  .then(<span class="number">2</span>)</span><br><span class="line">  .then(<span class="built_in">Promise</span>.resolve(<span class="number">3</span>))</span><br><span class="line">  .then(<span class="built_in">console</span>.log)</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li><li><p><strong><code>process.nextTick</code>å’Œ<code>promise.then</code>éƒ½å±äºmicrotaskï¼Œè€Œ<code>setImmediate</code>ã€<code>setTimeout</code>å±äºmacrotask</strong></p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">process.nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'nextTick'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'then'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">setImmediate(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setImmediate'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'end'</span>)</span><br><span class="line"><span class="comment">// end nextTick then setImmediate</span></span><br></pre></td></tr></table></figure><p> æœ‰å…³<strong>microtask</strong>åŠ<strong>macrotask</strong>å¯ä»¥çœ‹<a href="https://juejin.im/entry/58d4df3b5c497d0057eb99ff" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ï¼Œè®²å¾—å¾ˆç»†è‡´ã€‚</p></li></ol><p>ä½†Promiseä¹Ÿå­˜åœ¨å¼Šç«¯ï¼Œé‚£å°±æ˜¯è‹¥æ­¥éª¤å¾ˆå¤šçš„è¯ï¼Œéœ€è¦å†™ä¸€å¤§ä¸²<code>.then()</code>ï¼Œå°½ç®¡æ­¥éª¤æ¸…æ™°ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬è¿™äº›è¿½æ±‚æè‡´ä¼˜é›…çš„å‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œä»£ç å…¨éƒ½æ˜¯Promiseçš„APIï¼ˆ<code>then</code>ã€<code>catch</code>ï¼‰ï¼Œæ“ä½œçš„è¯­ä¹‰å¤ªæŠ½è±¡ï¼Œè¿˜æ˜¯è®©äººä¸å¤Ÿæ»¡æ„å‘€~</p><hr><h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><p>Generatoræ˜¯ES6è§„èŒƒä¸­å¯¹åç¨‹çš„å®ç°ï¼Œä½†ç›®å‰å¤§å¤šè¢«ç”¨äºå¼‚æ­¥æ¨¡æ‹ŸåŒæ­¥ä¸Šäº†ã€‚</p><p>æ‰§è¡Œå®ƒä¼šè¿”å›ä¸€ä¸ª<a href="http://es6.ruanyifeng.com/#docs/iterator" target="_blank" rel="noopener">éå†å™¨å¯¹è±¡</a>ï¼Œè€Œæ¯æ¬¡è°ƒç”¨<code>next</code>æ–¹æ³•åˆ™å°†å‡½æ•°æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ª<code>yield</code>çš„ä½ç½®ï¼Œè‹¥æ²¡æœ‰åˆ™æ‰§è¡Œåˆ°returnæˆ–æœ«å°¾ã€‚</p><p>ä¾æ—§æ˜¯ä¸å†èµ˜è¿°APIï¼Œå¯¹å®ƒè¿˜ä¸äº†è§£çš„å¯ä»¥æŸ¥é˜…<a href="http://es6.ruanyifeng.com/#docs/generator#%E7%AE%80%E4%BB%8B" target="_blank" rel="noopener">é˜®è€å¸ˆçš„æ–‡ç« </a>ã€‚</p><p>é€šè¿‡Generatorå®ç°å¼‚æ­¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> res = <span class="keyword">yield</span> getData()</span><br><span class="line">   <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¼‚æ­¥æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">       it.next(&#123;</span><br><span class="line">           name: <span class="string">'yuanye'</span>,</span><br><span class="line">           age: <span class="number">22</span></span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> it = main()</span><br><span class="line">it.next()</span><br></pre></td></tr></table></figure><p>å…ˆä¸ç®¡ä¸‹é¢çš„<code>next</code>æ–¹æ³•ï¼Œå•çœ‹<code>main</code>æ–¹æ³•ä¸­ï¼Œ<code>getData</code>æ¨¡æ‹Ÿçš„å¼‚æ­¥æ“ä½œå·²ç»çœ‹èµ·æ¥å¾ˆåƒåŒæ­¥äº†ã€‚ä½†æ˜¯è¿½æ±‚å®Œç¾çš„æˆ‘ä»¬è‚¯å®šæ˜¯æ— æ³•å¿å—æ¯æ¬¡è¿˜è¦æ‰‹åŠ¨è°ƒç”¨<code>next</code>æ–¹æ³•æ¥ç»§ç»­æ‰§è¡Œæµç¨‹çš„ï¼Œä¸ºæ­¤<a href="https://github.com/tj" target="_blank" rel="noopener">TJå¤§ç¥</a>ä¸ºç¤¾åŒºè´¡çŒ®äº†<a href="https://github.com/tj/co" target="_blank" rel="noopener">coæ¨¡å—</a>æ¥è‡ªåŠ¨åŒ–æ‰§è¡ŒGeneratorï¼Œå®ƒçš„å®ç°åŸç†éå¸¸å·§å¦™ï¼Œæºç åªæœ‰çŸ­çŸ­çš„200å¤šè¡Œï¼Œæ„Ÿå…´è¶£å¯ä»¥å»ç ”ç©¶ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> co = <span class="built_in">require</span>(<span class="string">'co'</span>)</span><br><span class="line"></span><br><span class="line">co(<span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res1 = <span class="keyword">yield</span> [<span class="string">'step-1'</span>]</span><br><span class="line">  <span class="built_in">console</span>.log(res1)</span><br><span class="line">  <span class="comment">// è‹¥yieldåé¢è¿”å›çš„æ˜¯promiseï¼Œåˆ™ä¼šç­‰å¾…å®ƒresolvedåç»§ç»­æ‰§è¡Œä¹‹åçš„æµç¨‹</span></span><br><span class="line">  <span class="keyword">const</span> res2 = <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      res(<span class="string">'step-2'</span>)</span><br><span class="line">    &#125;, <span class="number">2500</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(res2)</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'end'</span></span><br><span class="line">&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'end: '</span> + data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±è®©å¼‚æ­¥çš„æµç¨‹å®Œå…¨ä»¥åŒæ­¥çš„æ–¹å¼å±•ç¤ºå‡ºæ¥å•¦ğŸ˜‹~</p><hr><h3 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async/Await"></a>Async/Await</h3><p>ES7æ ‡å‡†ä¸­å¼•å…¥çš„asyncå‡½æ•°ï¼Œæ˜¯å¯¹jså¼‚æ­¥è§£å†³æ–¹æ¡ˆçš„è¿›ä¸€æ­¥å®Œå–„ï¼Œå®ƒæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><strong>å†…ç½®æ‰§è¡Œå™¨</strong>ï¼šä¸ç”¨åƒgeneratoré‚£æ ·åå¤è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ä½¿ç”¨<strong>coæ¨¡å—</strong>ï¼Œè°ƒç”¨å³ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œå¹¶è¿”å›ç»“æœ</li><li><strong>è¿”å›Promise</strong>ï¼šgeneratorè¿”å›çš„æ˜¯iteratorå¯¹è±¡ï¼Œå› æ­¤è¿˜ä¸èƒ½ç›´æ¥ç”¨<code>then</code>æ¥æŒ‡å®šå›è°ƒ</li><li><strong>awaitæ›´å‹å¥½</strong>ï¼šç›¸æ¯”<strong>coæ¨¡å—</strong>çº¦å®šçš„generatorçš„yieldåé¢åªèƒ½è·Ÿpromiseæˆ–thunkå‡½æ•°æˆ–è€…å¯¹è±¡åŠæ•°ç»„ï¼Œawaitåé¢æ—¢å¯ä»¥æ˜¯promiseä¹Ÿå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å€¼ï¼ˆObjectã€Numberã€Arrayï¼Œç”šè‡³Errorç­‰ç­‰ï¼Œä¸è¿‡æ­¤æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰</li></ol><p>è¿›ä¸€æ­¥è¯´ï¼Œ<strong>asyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–</strong>ã€‚</p><p>æ”¹å†™åä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res1 = <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      res(<span class="string">'step-1'</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(res1)</span><br><span class="line">  <span class="keyword">const</span> res2 = <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="string">'step-2'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(res2)</span><br><span class="line">  <span class="keyword">const</span> res3 = <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      res(<span class="string">'step-3'</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(res3)</span><br><span class="line">  <span class="keyword">return</span> [res1, res2, res3, <span class="string">'end'</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testAsync().then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸ä»…è¯­ä¹‰è¿˜æ˜¯æµç¨‹éƒ½éå¸¸æ¸…æ™°ï¼Œå³ä¾¿æ˜¯ä¸ç†Ÿæ‚‰ä¸šåŠ¡çš„å¼€å‘è€…ä¹Ÿèƒ½ä¸€çœ¼çœ‹å‡ºå“ªé‡Œæ˜¯å¼‚æ­¥æ“ä½œã€‚</p><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡æ±‡æ€»äº†å½“å‰ä¸»æµçš„JSå¼‚æ­¥è§£å†³æ–¹æ¡ˆï¼Œå…¶å®æ²¡æœ‰å“ªä¸€ç§æ–¹æ³•æœ€å¥½æˆ–ä¸å¥½ï¼Œéƒ½æ˜¯åœ¨ä¸åŒçš„åœºæ™¯ä¸‹èƒ½å‘æŒ¥å‡ºä¸åŒçš„ä¼˜åŠ¿ã€‚è€Œä¸”ç›®å‰éƒ½æ˜¯Promiseä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ¡ˆé…åˆä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä½ åªå­¦ä¼šasync/awaitæˆ–è€…generatorå°±å¯ä»¥ç©è½¬å¼‚æ­¥ã€‚æ²¡å‡†ä»¥ååˆä¼šå‡ºç°ä¸€ä¸ªæ–°çš„æ–¹æ¡ˆï¼Œå°†å·²æœ‰çš„è¿™å‡ ç§æ–¹æ¡ˆé¢ è¦†å‘¢ ~ </p><p>åœ¨è¿™ä¸æ–­å˜åŒ–ã€å‘å±•çš„æ—¶ä»£ï¼Œæˆ‘ä»¬å‰ç«¯è¦æ”¾å¼€è‡ªå·±çš„çœ¼ç•Œï¼Œæ‹¥æŠ±å˜åŒ–ï¼ŒæŒç»­å­¦ä¹ ï¼Œæ‰èƒ½æˆé•¿ï¼Œå†™å‡ºä¼˜è´¨çš„ä»£ç ğŸ˜œ~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ&quot;&gt;&lt;a href=&quot;#ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ&quot; class=&quot;headerlink&quot; title=&quot;ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ&quot;&gt;&lt;/a&gt;ES6å¼‚æ­¥æ–¹å¼å…¨é¢è§£æ&lt;/h1&gt;&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥JSæ˜¯å•çº¿ç¨‹çš„ï¼Œè¿™ç§è®¾è®¡è®©JSé¿å…äº†å¤šçº¿ç¨‹çš„å„ç§é—®é¢˜ï¼Œä½†åŒæ—¶
      
    
    </summary>
    
    
      <category term="coding" scheme="https://blog.markeyme.cn/tags/coding/"/>
    
  </entry>
  
  <entry>
    <title>å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥</title>
    <link href="https://blog.markeyme.cn/2018/03/25/%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%81%8C%E5%9C%BA%E8%AE%A4%E7%9F%A5/"/>
    <id>https://blog.markeyme.cn/2018/03/25/å·¥ç¨‹å¸ˆçš„èŒåœºè®¤çŸ¥/</id>
    <published>2018-03-25T01:27:16.000Z</published>
    <updated>2018-03-25T01:27:49.688Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥"><a href="#å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥" class="headerlink" title="å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥"></a>å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥</h1><p>ä»<a href="https://www.baidufe.com" target="_blank" rel="noopener">Alien</a>åšå®¢çœ‹åˆ°çš„ï¼Œè§‰å¾—å¾ˆæœ‰é“ç†ã€‚å†…å®¹æ¯”è¾ƒå¤šï¼Œæ²¡åŠæ³•ä¸€æ¬¡éƒ½åšåˆ°ï¼Œå…ˆmarkä¸‹æ¥ï¼Œä¸€æ­¥æ­¥æ¥å§ï¼Œå¸Œæœ›èƒ½å¤Ÿå°½å¿«éƒ½åšåˆ°ğŸ˜„~</p><p><img src="https://markey-oss1.oss-cn-beijing.aliyuncs.com/%E8%81%8C%E5%9C%BA%E8%AE%A4%E7%9F%A5.png" alt="å·¥ç¨‹å¸ˆçš„èŒåœºè®¤çŸ¥"></p><blockquote><p><a href="https://www.baidufe.com/item/8de42948e042fb0d0da2.html" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥&quot;&gt;&lt;a href=&quot;#å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥&quot; class=&quot;headerlink&quot; title=&quot;å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥&quot;&gt;&lt;/a&gt;å·¥ç¨‹å¸ˆçš„ä¸€äº›èŒåœºè®¤çŸ¥&lt;/h1&gt;&lt;p&gt;ä»&lt;a href=&quot;https://www.baidufe.com&quot; tar
      
    
    </summary>
    
    
      <category term="profession" scheme="https://blog.markeyme.cn/tags/profession/"/>
    
  </entry>
  
  <entry>
    <title>Jimp node-qrcodeç”Ÿæˆå›¾ç‰‡å¹¶ä¸Šä¼ æ€»ç»“</title>
    <link href="https://blog.markeyme.cn/2018/03/20/Jimp%20node-qrcode%E7%94%9F%E6%88%90%E5%9B%BE%E7%89%87%E5%B9%B6%E4%B8%8A%E4%BC%A0%E6%80%BB%E7%BB%93/"/>
    <id>https://blog.markeyme.cn/2018/03/20/Jimp node-qrcodeç”Ÿæˆå›¾ç‰‡å¹¶ä¸Šä¼ æ€»ç»“/</id>
    <published>2018-03-20T12:01:29.000Z</published>
    <updated>2018-03-21T01:46:10.359Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-qrcodeç”Ÿæˆå›¾ç‰‡ä¸Šä¼ æ€»ç»“"><a href="#Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-qrcodeç”Ÿæˆå›¾ç‰‡ä¸Šä¼ æ€»ç»“" class="headerlink" title="Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-qrcodeç”Ÿæˆå›¾ç‰‡ä¸Šä¼ æ€»ç»“"></a>Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-qrcodeç”Ÿæˆå›¾ç‰‡ä¸Šä¼ æ€»ç»“</h1><p>ä¸Šå‘¨äº§å“é‚£è¾¹æ¥äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åŸºäºåŸå›¾é’ˆå¯¹ä¸åŒç”¨æˆ·ç”Ÿæˆä¸åŒäºŒç»´ç ä»¥åŠæ–‡æ¡ˆï¼Œå¹¶ç”Ÿæˆæ–°å›¾ç‰‡ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿä¿å­˜ã€‚æ¥åˆ°è¿™ä¸ªéœ€æ±‚æ—¶ï¼Œå¿ƒé‡Œä¸ä»…æ²¡æœ‰æ‹’ç»çš„æ„æ€ï¼Œåè€Œæœ‰ç‚¹å°å…´å¥‹ ~ å› ä¸ºåˆèƒ½æ¢ç´¢ä¸€ä¸‹æ–°ä¸œè¥¿ã€‚</p><p>å¤§è‡´æ•ˆæœå¦‚ä¸‹ï¼ŒåŸå›¾ï¼š</p><p><img style="height: 400px;" src="https://markey-oss1.oss-cn-beijing.aliyuncs.com/bg_invite.png"></p><p>æ•ˆæœå›¾ï¼š</p><p><img style="height: 400px;" src="https://markey-oss1.oss-cn-beijing.aliyuncs.com/result.jpg"></p><h3 id="è¯•æ°´canvas"><a href="#è¯•æ°´canvas" class="headerlink" title="è¯•æ°´canvas"></a>è¯•æ°´canvas</h3><p>åˆšå¼€å§‹æ‰“ç®—åœ¨å‰ç«¯ç”¨canvasç”Ÿæˆå›¾ç‰‡ã€‚æˆ‘ä»¬éƒ½çŸ¥é“canvasæœ‰åˆæˆå›¾ç‰‡çš„åŠŸèƒ½ï¼Œæ ¸å¿ƒæ˜¯<code>drawImage</code>åŠ<code>toDataURL</code>è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p><p>å¤§è‡´æ€è·¯æ˜¯ï¼š</p><ol><li>ä½¿ç”¨<code>drawImage</code>å°†ç”Ÿæˆçš„äºŒç»´ç åˆå¹¶åˆ°åŸå›¾çš„æŒ‡å®šä½ç½®</li><li>ä½¿ç”¨<code>fillText</code>æ–¹æ³•ç”Ÿæˆæ–‡æ¡ˆ</li><li>ç”¨<code>toDataURL</code>å°†å›¾ç‰‡è½¬æˆbase64</li><li>ä½¿ç”¨ atob ä»¥åŠ Uint8Array å°†å…¶è½¬ä¸ºBufferè¿›è¡Œä¸Šä¼ ã€‚</li></ol><p>ä¸è¿‡æœ€ç»ˆè¯¥æ–¹æ¡ˆæ²¡æœ‰èµ°é€šï¼Œå› ä¸ºä¸åŒæ‰‹æœºå°ºå¯¸æ¯”ä¾‹ä¸ç»Ÿä¸€ï¼Œç”Ÿæˆçš„äºŒç»´ç çš„ä½ç½®æ— æ³•å‡†ç¡®åœ°å®šä½åˆ°æŒ‡å®šä½ç½®ï¼Œå› æ­¤é‡‡ç”¨äº†å¦ä¸€ç§æ–¹æ¡ˆï¼šnodeå±‚ç”Ÿæˆå›¾ç‰‡ã€‚</p><h3 id="nodeæèµ·"><a href="#nodeæèµ·" class="headerlink" title="nodeæèµ·"></a>nodeæèµ·</h3><p>åœ¨nodeå±‚å°±æ— éœ€è€ƒè™‘é€‚é…çš„é—®é¢˜äº†ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªåŸºå‡†ï¼Œä¹Ÿå°±æ˜¯åŸå›¾ã€‚ç”ŸæˆäºŒç»´ç åŠæ–‡æ¡ˆçš„å°ºå¯¸ã€ä½ç½®éƒ½å¯ä»¥ç›´æ¥å†™æ­»ã€‚ç»è¿‡è°ƒç ”ï¼Œnodeå›¾åƒå¤„ç†åº“æœ€å‡ºåçš„æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š<a href="https://github.com/oliver-moran/jimp" target="_blank" rel="noopener">Jimp</a> å’Œ <a href="https://github.com/lovell/sharp" target="_blank" rel="noopener">Sharp</a>ï¼Œæœ€ç»ˆé€‰ç”¨Jimpï¼Œå› ä¸ºSharpæ²¡å®‰è£…ä¸ŠğŸ˜“ã€‚äºŒç»´ç åº“å€’æ˜¯å¾ˆå¤šï¼Œæœ€ç»ˆå†³å®šé€‰ç”¨ <a href="https://github.com/soldair/node-qrcode" target="_blank" rel="noopener">node-qrcode</a>ã€‚</p><p>å¼€æï¼</p><p>ä¸»è¦æ­¥éª¤å°±ä¸¤æ­¥ï¼Œå¦‚ä¸‹ï¼š</p><ol><li>ç”Ÿæˆå›¾ç‰‡</li><li>è¯»å–å›¾ç‰‡å¹¶ä¸Šä¼ </li></ol><p>ä¸‹é¢åˆ†è§£è¿™ä¸¤æ­¥è®²è§£</p><h4 id="ç”Ÿæˆå›¾ç‰‡"><a href="#ç”Ÿæˆå›¾ç‰‡" class="headerlink" title="ç”Ÿæˆå›¾ç‰‡"></a>ç”Ÿæˆå›¾ç‰‡</h4><p>ç”Ÿæˆå›¾ç‰‡æ˜¯æœ€éº»çƒ¦çš„ã€‚æ­¥éª¤æ¯”è¾ƒå¤šï¼š</p><ol><li>ä½¿ç”¨qrcodeç”ŸæˆäºŒç»´ç  Buffer</li><li>åŒ…è£…äºŒç»´ç Bufferä¸ºJimpå¯¹è±¡</li><li>ç”Ÿæˆæ–‡æ¡ˆ</li><li>åˆæˆå›¾ç‰‡å¹¶ä¿å­˜</li></ol><p>å¤§éƒ¨åˆ†éƒ½æ˜¯è°ƒç”¨JimpåŠqrcodeçš„apiï¼Œè¿˜æœ‰ä¸€äº›nodeçš„åŸç”Ÿapiï¼Œå¦‚ä½¿ç”¨<code>Buffer.from</code>å°†base64è½¬ä¸ºBufferã€‚æ„Ÿå…´è¶£çš„å¯ä»¥å»å‚é˜…å®ƒä»¬çš„æ–‡æ¡£ï¼š</p><ul><li><a href="https://github.com/oliver-moran/jimp" target="_blank" rel="noopener">Jimp</a></li><li><a href="https://github.com/soldair/node-qrcode" target="_blank" rel="noopener">node-qrcode</a></li><li><a href="http://nodejs.cn/api/buffer.html#buffer_class_method_buffer_from_string_encoding" target="_blank" rel="noopener">Node Buffer</a></li></ul><p>ç”±äºç”Ÿæˆå›¾ç‰‡æ­¥éª¤è¾ƒå¤šï¼Œæ¯ä¸€æ­¥éƒ½ä¾èµ–ä¸Šä¸€æ­¥çš„ç»“æœï¼Œå¹¶ä¸”éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå¦‚æœä½¿ç”¨å›è°ƒçš„è¯å°±å½»åº•é™·å…¥å›è°ƒåœ°ç‹±äº†ğŸ˜“ï¼Œå› æ­¤ä¸»è¦æƒ³è¯´çš„æ˜¯ä»£ç ç»„ç»‡æ–¹å¼ã€‚ä¸æ€•å¤§å®¶ç¬‘è¯ï¼Œæˆ‘çš„ç¬¬ä¸€ç‰ˆä»£ç æ˜¯è¿™æ ·çš„ğŸ¤£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”ŸæˆäºŒç»´ç Buffer</span></span><br><span class="line"><span class="keyword">const</span> codeBuffer = <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  Qrcode.toDataURL(url, &#123;&#125;, (err, url) =&gt; &#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»æŠŠâ€œdata:image/png;base64,â€è¿™ä¸€æ®µå»æ‰æ‰èƒ½è½¬æˆæ­£ç¡®çš„buffer</span></span><br><span class="line">    <span class="keyword">const</span> res = Buffer.from(url.replace(<span class="regexp">/.+,/</span>, <span class="string">''</span>), <span class="string">'base64'</span>)</span><br><span class="line">    err ? reject(err) : resolve(res)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line"><span class="comment">// ç”Ÿæˆæ–‡å­—</span></span><br><span class="line"><span class="keyword">const</span> textJimp = <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">new</span> Jimp(textBgWidth, config.textBgHeight, +<span class="string">`0xFF<span class="subst">$&#123;config.textBgColor&#125;</span>`</span>, (err, image) =&gt; &#123;</span><br><span class="line">    Jimp.loadFont(config.fontPath).then(<span class="function">(<span class="params">font</span>) =&gt;</span> &#123;</span><br><span class="line">      resolve(image.print(font, config.textPadding, <span class="number">10</span>, textContent, <span class="number">10</span>))</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å°†äºŒç»´ç BufferåŒ…è£…æˆJimpå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> codeJimp = <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  Jimp.read(codeBuffer).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res) &#123;</span><br><span class="line">      resolve(res.resize(config.codeWidth, config.codeWidth))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      reject(<span class="string">'åŒ…è£…bufferå¤±è´¥'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  Jimp.read(config.originImgPath).then(<span class="function"><span class="params">img</span> =&gt;</span> &#123;</span><br><span class="line">    img.composite(codeJimp, config.codeLeft, config.codeTop)</span><br><span class="line">       .composite(textJimp, config.textLeft, config.textTop)</span><br><span class="line">       <span class="comment">// ç”±äºfs.createReadStreamä¸èƒ½æ¥å—Bufferä½œä¸ºå‚æ•°ï¼Œåªèƒ½å°†ç”Ÿæˆçš„å›¾ç‰‡ä¸´æ—¶ä¿å­˜åˆ°æœ¬åœ°</span></span><br><span class="line">       .write(config.tempFilePath, () =&gt; &#123;</span><br><span class="line">         <span class="comment">// resolve()</span></span><br><span class="line">         reject(<span class="string">'ä¿å­˜å›¾ç‰‡å¤±è´¥ï¼'</span>)</span><br><span class="line">       &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ä¿å­˜å›¾ç‰‡å‡ºé”™ï¼š'</span>, err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„nodeå‰åç«¯åˆ†ç¦»æ¡†æ¶ <a href="https://github.com/xiongwilee/Gracejs" target="_blank" rel="noopener">grace</a> çš„ç‰ˆæœ¬æ˜¯æ”¯æŒ generator è¯­æ³•çš„ï¼Œæ‰€ä»¥æƒ³åˆ°äº†ä½¿ç”¨ yield æ¥å°†å¼‚æ­¥æ“ä½œåŒæ­¥å±•ç¤ºï¼Œä½†è¿˜æ˜¯çœ‹èµ·æ¥å¤ªç¹çäº†ğŸ˜“ï¼Œå¿…é¡»é‡æ„ï¼</p><p>promise ç™»åœºï¼</p><p>ä½¿ç”¨ promise çš„é“¾å¼è°ƒç”¨è¯­æ³•ï¼Œç»“æ„å°±ä¼šæ¸…æ™°å¾ˆå¤šï¼Œæ”¹å†™åä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„åˆå¤šä¸ªå¼‚æ­¥I/O</span></span><br><span class="line"><span class="keyword">const</span> imgResult = <span class="keyword">yield</span> generateCode(href)</span><br><span class="line">  <span class="comment">// ç”ŸæˆäºŒç»´ç Buffer</span></span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    codeBuffer = res;</span><br><span class="line">    <span class="comment">// åŒ…è£…äºŒç»´ç Bufferä¸ºJimpå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> wrapCodeBuffer(codeBuffer, imgConfig);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    codeJimp = res;</span><br><span class="line">    <span class="comment">// ç”Ÿæˆæ–‡å­—</span></span><br><span class="line">    <span class="keyword">return</span> generateText(textBgWidth, textContent, imgConfig);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    textJimp = res;</span><br><span class="line">    <span class="comment">// ç»„åˆå¹¶ç”Ÿæˆå›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">return</span> compositeImg(imgConfig, textJimp, codeJimp);</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// æˆåŠŸ</span></span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>)</span><br><span class="line">  <span class="comment">// ä¸­é€”å‡ºé”™</span></span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>ç¬é—´ä¼˜é›…çš„è®¸å¤š ~<br>å®ç°æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯è®©æ¯ä¸ªæ­¥éª¤çš„æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ª promise å³å¯ï¼Œæ‹¿è¯¥æ–¹æ³•ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŒ…è£…äºŒç»´ç Bufferä¸ºJimpå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * @param  &#123;Buffer&#125; codeBuffer  [äºŒç»´ç Bufferå¯¹è±¡]</span></span><br><span class="line"><span class="comment"> * @param  &#123;Object&#125; config      [é…ç½®å¯¹è±¡]</span></span><br><span class="line"><span class="comment"> * @return &#123;Promise&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrapCodeBuffer</span>(<span class="params">codeBuffer, config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    Jimp.read(codeBuffer).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (res) &#123;</span><br><span class="line">        resolve(res.resize(config.codeWidth, config.codeWidth));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="string">'åŒ…è£…äºŒç»´ç Bufferå¤±è´¥'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ å›¾ç‰‡"><a href="#ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä¸Šä¼ å›¾ç‰‡"></a>ä¸Šä¼ å›¾ç‰‡</h4><p>æ¥ä¸‹æ¥æ˜¯ä½¿ç”¨nodeä¸Šä¼ å›¾ç‰‡ã€‚ç”±äºä½¿ç”¨çš„åç«¯æ¥å£æ˜¯åŸºäºFormDataæ–¹å¼çš„ï¼Œæ‰€ä»¥è¦åœ¨nodeå±‚æ¨¡æ‹Ÿä¸€ä¸ªFormDataä¸Šä¼ è¯·æ±‚ã€‚<br>èµ·åˆæ˜¯å®Œå…¨æ‡µé€¼çš„ï¼Œå› ä¸ºå¯¹httpåè®®çš„è¿™å—æ ‡å‡†ä¸€ç›´æ˜¯ä¸€çŸ¥åŠè§£ã€‚åœ¨å‰ç«¯ä½¿ç”¨FormDataä¸Šä¼ å›¾ç‰‡æ—¶æˆ‘ä»¬ç»å¸¸èƒ½çœ‹åˆ°è¯·æ±‚ä½“æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">------WebKitFormBoundarywQMoN5B2ZNAD6uqN</span><br><span class="line">Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;avatar.jpeg&quot;</span><br><span class="line">Content-Type: image/jpeg</span><br><span class="line"></span><br><span class="line">------WebKitFormBoundarywQMoN5B2ZNAD6uqN--</span><br></pre></td></tr></table></figure><p>è¯·æ±‚å¤´çš„Content-Typeæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: multipart/form-data; boundary=----WebKitFormBoundarywQMoN5B2ZNAD6uqN</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æŒºå¤æ‚çš„ï¼Œå°¤å…¶æ˜¯è¿™ä¸ª<code>------WebKitFormBoundarywQMoN5B2ZNAD6uqN--</code>åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆé¬¼ğŸ˜¢ã€‚</p><p>åˆ«æ€¥ï¼Œå…ˆä»æˆ‘çš„è¿™ä¸ªä¸Šä¼ æ–¹æ³•è®²èµ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸Šä¼ å›¾ç‰‡æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * @param  &#123;ClientRequest&#125; request  [ç”±http.requestæ–¹æ³•è¿”å›çš„å¯¹è±¡]</span></span><br><span class="line"><span class="comment"> * @param  &#123;Object&#125;        config   [é…ç½®å¯¹è±¡]</span></span><br><span class="line"><span class="comment"> * @param  &#123;String&#125;        cookies  [ç”¨æˆ·è¯·æ±‚æ—¶æ‰€å¸¦çš„æ‰€æœ‰cookie]</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uploadImg</span>(<span class="params">request, config, cookies = <span class="string">''</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æ¨¡æ‹Ÿform-dataè¯·æ±‚åç«¯æ¥å£ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">  <span class="keyword">const</span> boundaryKey = <span class="built_in">Math</span>.random().toString(<span class="number">16</span>);</span><br><span class="line">  <span class="keyword">const</span> endData = <span class="string">'\r\n----'</span> + boundaryKey + <span class="string">'--'</span>;</span><br><span class="line">  <span class="keyword">let</span> contentLength = <span class="number">0</span>,</span><br><span class="line">      content = <span class="string">''</span>;</span><br><span class="line">  content += <span class="string">'\r\n----'</span> + boundaryKey + <span class="string">'\r\n'</span> +</span><br><span class="line">            <span class="string">'Content-Type: application/octet-stream\r\n'</span> +</span><br><span class="line">            <span class="string">'Content-Disposition: form-data; name="file"; '</span> +</span><br><span class="line">            <span class="string">'filename="bg_invite.png"; \r\n'</span> +</span><br><span class="line">            <span class="string">'Content-Transfer-Encoding: binary\r\n\r\n'</span>;</span><br><span class="line">  <span class="keyword">let</span> contentBinary = Buffer.from(content, <span class="string">'utf-8'</span>);</span><br><span class="line">  <span class="comment">// è·å–ä¸Šä¼ å†…å®¹æ€»å¤§å°</span></span><br><span class="line">  contentLength = fs.statSync(config.tempFilePath).size + Buffer.byteLength(contentBinary) + Buffer.byteLength(endData);</span><br><span class="line">  <span class="comment">// è®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line">  request.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'multipart/form-data; boundary=--'</span> + boundaryKey);</span><br><span class="line">  request.setHeader(<span class="string">'Content-Length'</span>, contentLength);</span><br><span class="line">  request.setHeader(<span class="string">'Cookie'</span>, cookies);</span><br><span class="line">  request.write(contentBinary);</span><br><span class="line">  <span class="keyword">const</span> fileStream = fs.createReadStream(config.tempFilePath, &#123; <span class="attr">bufferSize</span>: <span class="number">4</span> * <span class="number">1024</span> &#125;);</span><br><span class="line">  fileStream.on(<span class="string">'end'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">    request.end(endData);</span><br><span class="line">  &#125;);</span><br><span class="line">  fileStream.pipe(request);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ–¹æ³•å…¶å®å°±æ˜¯æ„é€ äº†è¯·æ±‚ï¼Œæ‹†åˆ†ä¸‹æ¥å°±å¦‚ä¸‹å‡ ä»¶äº‹ï¼š</p><ul><li>æ„é€ è¯·æ±‚å¤´</li><li>è®¡ç®—ä¸Šä¼ å†…å®¹æ€»å¤§å°</li><li>å°†æ–‡ä»¶ä»¥æµçš„å½¢å¼å†™å…¥<a href="http://nodejs.cn/api/http.html#http_class_http_clientrequest" target="_blank" rel="noopener">http.ClientRequest</a>å¯¹è±¡</li></ul><p>å…ˆè¯´è¯·æ±‚å¤´ï¼ŒFormDataå½¢å¼çš„è¯·æ±‚Content-Typeä¸º<code>multipart/form-data</code>ï¼Œå¹¶ä¸”ä¸€å®šè¦æä¾›<code>boundary</code>å­—æ®µã€‚å¯æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬éƒ½çŸ¥é“é»˜è®¤æäº¤è¡¨å•æ—¶ï¼ŒContent-Typeæ˜¯<code>application/x-www-form-urlencoded</code>ï¼Œå¹¶ä¸”å‚æ•°éƒ½æ˜¯å·²ç±»ä¼¼<code>name=John&amp;age=12</code>è¿™ç§å½¢å¼åœ¨è¯·æ±‚ä½“ä¸­ä¼ é€’çš„ï¼Œå‚æ•°æ˜¯ä»¥<code>&amp;</code>åˆ†å‰²çš„ã€‚è¿™é‡Œçš„<code>boundary</code>çš„ä½œç”¨å°±è·Ÿ<code>&amp;</code>ä¸€æ ·ï¼Œæ˜¯ç”¨æ¥åˆ†å‰²å¤šä¸ªå‚æ•°çš„ï¼Œå¹¶ä¸”æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œè€Œåœ¨æµè§ˆå™¨ä¸­ï¼Œæ˜¯æµè§ˆå™¨ä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¿™å°±çŸ¥é“äº†ä¸Šæ–‡ä¸­é‚£ä¸ª<code>boundary</code>æ˜¯æ€ä¹ˆå›äº‹äº† ~</p><p>å†çœ‹æ¯ä¸ª<code>boundary</code>ä¹‹é—´çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå­—æ®µï¼Œå…¶ä¸­è¿˜æœ‰Content-typeåŠContent-Dispositionå­—æ®µæˆ‘ä»¬å¾ˆé™Œç”Ÿã€‚</p><p>Content-Typeè·Ÿhttpåè®®çš„Content-Typeæ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡åœ¨<code>multipart/form-data</code>ç±»å‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æŒ‡å®šæ¯ä¸ªå‚æ•°çš„Content-Typeã€‚æ–¹æ³•ä¸­çš„å­—æ®µå€¼ä¸º<code>application/octet-stream</code>ï¼Œå°±æ˜¯å‘Šè¯‰Serverè¿™éƒ¨åˆ†å†…å®¹æ˜¯å­—èŠ‚æµï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä»¥å­—èŠ‚æµçš„å½¢å¼ä¸Šä¼ å›¾ç‰‡ã€‚</p><p>è€ŒContent-Dispositionæ˜¯æ¯ä¸ªå‚æ•°å¿…é¡»çš„é€‰é¡¹ï¼Œå¹¶ä¸”å€¼å¿…é¡»ä¸º<code>form-data</code>ã€‚è¯¥å¤´å…¶å®è¿˜æœ‰å…¶ä»–ç”¨é€”ï¼Œå¯ä»¥å‚é˜…<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition" target="_blank" rel="noopener">MDNçš„å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯è®¡ç®—Content-Lengthã€‚è¿™é‡Œä¸»è¦ä½¿ç”¨äº†nodeçš„<a href="http://nodejs.cn/api/fs.html" target="_blank" rel="noopener">fsæ¨¡å—</a>ï¼Œä»¥åŠ<a href="http://nodejs.cn/api/buffer.html" target="_blank" rel="noopener">Bufferæ¨¡å—</a>çš„apiï¼Œéƒ½å¾ˆå¥½ç†è§£ï¼ŒæŸ¥çœ‹æ–‡æ¡£å³å¯ã€‚</p><p>æœ€åæ˜¯å°†å›¾ç‰‡å†™å…¥http.ClientRequestå¯¹è±¡ä¸­ã€‚è¯¥å¯¹è±¡æ˜¯ç”±nodeçš„http.requestæ–¹æ³•è¿”å›ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå¯å†™æµã€‚å¼•ç”¨<a href="http://nodejs.cn/api/http.html#http_http_request_options_callback" target="_blank" rel="noopener">nodeå®˜æ–¹æ–‡æ¡£</a>çš„è¯ï¼š</p><blockquote><p>ClientRequest å®ä¾‹æ˜¯ä¸€ä¸ªå¯å†™æµã€‚ å¦‚æœéœ€è¦é€šè¿‡ POST è¯·æ±‚ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ™å†™å…¥åˆ° ClientRequest å¯¹è±¡ã€‚</p></blockquote><p>æœ€åå†è°ƒç”¨http.ClientRequestå¯¹è±¡çš„endæ–¹æ³•ï¼Œå³å¯å®Œæˆè¯·æ±‚å¯¹è±¡çš„å†™å…¥ï¼Œå°±å‘å‡ºè¯·æ±‚å•¦ ~</p><p>è‡³æ­¤ï¼Œä¸€ä¸ªNodeåˆæˆå›¾ç‰‡å¹¶ä¸Šä¼ çš„éœ€æ±‚å®Œæˆï¼è¿‡ç¨‹ä¸­æ”¶è·éå¸¸å¤šï¼</p><p>ç”Ÿå‘½ä¸æ¯æŠ˜è…¾ä¸æ­¢ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-qrcodeç”Ÿæˆå›¾ç‰‡ä¸Šä¼ æ€»ç»“&quot;&gt;&lt;a href=&quot;#Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-qrcodeç”Ÿæˆå›¾ç‰‡ä¸Šä¼ æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;Nodeå›¾ç‰‡å¤„ç†â€”â€”Jimpé…åˆnode-q
      
    
    </summary>
    
    
      <category term="coding" scheme="https://blog.markeyme.cn/tags/coding/"/>
    
      <category term="node" scheme="https://blog.markeyme.cn/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ</title>
    <link href="https://blog.markeyme.cn/2018/03/03/%E8%A7%82%E3%80%8A%E7%9B%B2%E5%B1%B1%E3%80%8B%E6%9C%89%E6%84%9F/"/>
    <id>https://blog.markeyme.cn/2018/03/03/è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ/</id>
    <published>2018-03-03T13:40:29.000Z</published>
    <updated>2018-03-05T01:45:49.733Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ"><a href="#è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ" class="headerlink" title="è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ"></a>è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ</h1><blockquote><p>ä¸æ˜¯å½±è¯„ï¼Œåªæ˜¯è§‚åæ„Ÿ</p></blockquote><p>ä»Šå¤©çœ‹äº†ã€Šç›²å±±ã€‹åï¼Œå¿ƒæƒ…æ— æ¯”å‹æŠ‘ã€‚è™½ç„¶è¿™éƒ¨ç”µå½±çš„æ•…äº‹å·²ç»è€³ç†Ÿèƒ½è¯¦ï¼Œæ— è®ºç”µè§†ä¸Šè¿˜æ˜¯ç½‘ç»œä¸­å·²ç»æœ‰è¿‡å„ç§æ‹å–å¦‡å¥³çš„æŠ¥é“ï¼Œæ‰€ä»¥ä»ä¸€å¼€å§‹å°±åŸºæœ¬èƒ½æƒ³åˆ°å‰§æƒ…çš„å‘å±•æ–¹å‘ï¼Œä½†æ˜¯è¿‡ç¨‹ä¸­ä¾æ—§è¢«ç§ç§åœºæ™¯éœ‡æ’¼ï¼Œæ¯”å¦‚é›ªæ¢…é€ƒå‡ºå±‹å­åè¢«å…¨æ‘çš„ç”·äººè”åˆæŠ“å›ï¼Œæ‘é‡Œå…¶ä»–è¢«æ‹å–å¦‡å¥³åŠè¯´é›ªæ¢…å¥¹ä»¬æ˜¯å¦‚ä½•å±ˆæœçš„ï¼Œè­¦å¯Ÿæ¥åˆ°æ‘é‡Œè¥æ•‘å´è¢«æ‘æ°‘å›´å µå¨èƒå¯¼è‡´è¥æ•‘å¤±è´¥ç­‰ç­‰ã€‚ç”µè§†ä¸Šå¯¹è¿™ç±»æŠ¥é“å¬å¾—å¤šäº†ï¼Œå°±ä¼šæœ‰äº›éº»æœ¨ï¼Œä½†çœ‹äº†è¿™éƒ¨ç”µå½±ä¸å¾—ä¸èµå¹å¯¼æ¼”å¯¹å„ç§ç»†èŠ‚çš„ç²¾å¦™è¡¨è¿°ï¼Œèƒ½å¤Ÿåˆ‡èº«ä½“ä¼šåˆ°è¢«æ‹å¦‡å¥³çš„ç»æœ›ï¼Œä¸å¾—ä¸ç»™ç»™ææ¨å¯¼æ¼”ç‚¹ä¸ªèµã€‚<br></p><h2 id="å…ˆè¯´è¯´è®©æˆ‘å°è±¡æœ€æ·±åˆ»çš„å‡ ä¸ªç”·äºº"><a href="#å…ˆè¯´è¯´è®©æˆ‘å°è±¡æœ€æ·±åˆ»çš„å‡ ä¸ªç”·äºº" class="headerlink" title="å…ˆè¯´è¯´è®©æˆ‘å°è±¡æœ€æ·±åˆ»çš„å‡ ä¸ªç”·äºº"></a>å…ˆè¯´è¯´è®©æˆ‘å°è±¡æœ€æ·±åˆ»çš„å‡ ä¸ªç”·äºº</h2><h3 id="é»„å¾·è´µ"><a href="#é»„å¾·è´µ" class="headerlink" title="é»„å¾·è´µ"></a>é»„å¾·è´µ</h3><p>æ— è®ºé…’æ¡Œä¸Šçš„è¿™å¥â€œè°ä¸å–å®Œè¿™é…’ï¼Œè°å°±ä¸€è¾ˆå­æ‰“å…‰æ£ï¼Œå„¿å­å­™å­ä¹Ÿæ‰“å…‰æ£ï¼Œä¸‹è¾ˆå­è¿˜æ˜¯æ‰“å…‰æ£ï¼â€ï¼Œè¿˜æ˜¯è¢«é›ªæ¢…åŠè¯´æ—¶çš„å¼ºè¯å¤ºç†â€œåä¸ªçƒçš„ç‰¢ï¼Œå“ªå®¶å¨¶åª³å¦‡ä¸èŠ±é’±â€ï¼Œéƒ½èƒ½çœ‹å‡ºè¿™ä¸ªäººçš„â€œç›²â€ã€‚åœ¨ä»–çœ¼é‡Œï¼Œå¥³äººå°±æ˜¯è‡ªå·±çš„å·¥å…·ã€ä»†äººï¼Œç»“å©šä¹Ÿä¸è¿‡æ˜¯èŠ±ä¸€ç¬”é’±å°±äº†äº†çš„äº‹ã€‚ä»–ä¸çŸ¥é“ä»€ä¹ˆå«æ‹å–å¦‡å¥³ï¼Œå› ä¸ºæ‘é‡Œäººéƒ½è¿™ä¹ˆå¹²ï¼›ä»–ä¹Ÿä¸çŸ¥é“ç»“å©šæ˜¯æœ‰æ³•å¾‹æ•ˆç›Šçš„ï¼Œæ˜¯ä¸¤æƒ…ç›¸æ‚¦çš„ï¼Œå› ä¸ºä»–â€œç»éªŒä¸°å¯Œâ€çš„çˆ¶äº²å°±æ˜¯è®¤ä¸ºâ€œå¥³äººå°±è¦æ”¶æ‹¾â€ã€‚ç”Ÿé•¿ç¯å¢ƒçš„â€œç›²â€å¯¼è‡´äº†ä»–çš„â€œç›²â€ï¼Œå¹¶ä¸”ä¼šç»§ç»­ä¼ é€’ä¸‹å»ï¼Œæ¶æ€§å¾ªç¯ã€‚ä¹Ÿè®¸å¸®é›ªæ¢…å¯„ä¿¡çš„åˆ˜é’å±±é•¿å¤§åä¹Ÿå¨¶äº†ä¹°æ¥çš„åª³å¦‡ã€‚</p><h3 id="é»„çˆ¶"><a href="#é»„çˆ¶" class="headerlink" title="é»„çˆ¶"></a>é»„çˆ¶</h3><p>åˆšå¼€å§‹æ„Ÿè§‰è¿™ä¸ªè€äººçœ‹èµ·æ¥è¿˜æ˜¯æŒºè€å®æ†¨åšçš„ï¼Œç›´åˆ°ä»–ä¸ºäº†å¸®ä»–æ— èƒ½çš„å„¿å­â€œåŠäº‹â€ï¼Œè·Ÿé»„æ¯ä¸€å—æ§åˆ¶é›ªæ¢…å¥½è®©é»„å¾·è´µå¼ºå¥¸å¥¹åï¼Œå½»åº•é¢ è¦†äº†å¯¹ä»–å°è±¡ã€‚è€Œä¸”åœ¨å¾·è´µåŠå®Œäº‹åè¿˜èµè®¸åœ°ç»™ä»–é€’æ”¯çƒŸï¼Œä»¿ä½›è®¤å¯å¾·è´µçš„èƒ½åŠ›ä¸€æ ·ï¼Œé¡¿æ—¶è®©æˆ‘æ„Ÿè§‰ä¸€é˜µæ¶å¿ƒã€‚</p><h3 id="é»„å¾·è¯š"><a href="#é»„å¾·è¯š" class="headerlink" title="é»„å¾·è¯š"></a>é»„å¾·è¯š</h3><p>åˆšå¼€å§‹è§‰å¾—è¿™ä¸ªäººå¯èƒ½æ˜¯é›ªæ¢…çš„æœ€åæ•‘æ˜Ÿï¼Œä»–æ˜¯å…¨æ‘çœ‹èµ·æ¥å”¯ä¸€æœ‰ç‚¹è‰¯çŸ¥çš„ã€‚çœ‹åˆ°åé¢æ‰å‘ç°ï¼Œæ— è®ºæ˜¯ä»¥æ•‘é›ªæ¢…é€ƒå‡ºå»ä¸ºåä¹‰è€Œæ‘¸å¥¹çš„æ‰‹ï¼Œè¿˜æ˜¯æœ€åç›´æ¥æäº†é›ªæ¢…çš„èº«å­ï¼Œè¿™ä¸ªäººçš„é‚£ç‚¹å­¦é—®å…¨éƒ½ç”¨åœ¨äº†è™šä¼ªä¸Šã€‚<br><br>æœ€åäº‹æƒ…è´¥éœ²ï¼Œä¸ä»…è®©é›ªæ¢…å†æ¬¡æŒ¨äº†æ‰“ï¼Œä¹‹åä¸ºäº†é€ƒé¿è´£ä»»æŠ›å¼ƒäº†é›ªæ¢…ï¼Œä¸€ä¸ªäººç¦»å¼€äº†æ‘å­ã€‚é›ªæ¢…é€ƒå‡ºå»æœ€å¤§çš„å¸Œæœ›ç ´ç­ã€‚ä»–æ‰€è¯´çš„â€œé“å¾·çš„å¾·ï¼Œè¯šä¿¡çš„è¯šâ€çœŸæ˜¯å¯¹ä»–ä¸€ä¸ªå¤©å¤§çš„è®½åˆºã€‚<br><br>å¯èƒ½æœ‰äººè§‰å¾—é›ªæ¢…æ˜¯çœŸå¿ƒå–œæ¬¢ä»–ï¼Œæˆ–è€…åªæ˜¯ä¸ºäº†é€ƒå‡ºå»è€Œåˆ©ç”¨ä»–ï¼Œæ— è®ºæ€æ ·ï¼Œæœ€ç»ˆå—ä¼¤çš„ä¾æ—§æ˜¯é›ªæ¢…ã€‚å¾·è¯šèµ°åï¼Œé›ªæ¢…æ²¡æœ‰å“­æ²¡æœ‰é—¹ï¼Œåªæ˜¯é™é™åœ°çƒ§æ‰äº†ä»–é€çš„ä¹¦ï¼Œç„¶åæ¥åˆ°å°å–é“ºè·Ÿè€æ¿åšäº†â€œäº¤æ˜“â€ã€‚åœ¨ç»å†äº†é‚£ä¹ˆå¤šäº‹ä»¥åï¼Œå¥¹å·²ç»å¼€å§‹éº»æœ¨ï¼Œä¹ æƒ¯äº†å—ä¼¤ï¼Œä½†å”¯ä¸€è®©æˆ‘åº†å¹¸çš„æ˜¯ï¼Œå¥¹å§‹ç»ˆæ²¡æœ‰æ”¾å¼ƒæŠµæŠ—ã€‚ç›¸æ¯”æ‘é‡Œå…¶ä»–è¢«æ‹å–æ¥çš„å¥³äººï¼Œé›ªæ¢…æ— ç–‘æ˜¯åšå¼ºçš„ã€‚<br><br>åæ¥çœ‹äº†å½±è¯„åæƒŠäº†ï¼Œæ‰å‘ç°é‚£ä¸ªæ‰®æ¼”åŒæ ·è¢«æ‹å–æ¥çš„å¥³äººçš„æ¼”å‘˜å°±æ˜¯çœŸå®è¢«æ‹å–æ¥ï¼Œç”Ÿæ´»åœ¨é‚£ä¸ªæ‘å­é‡Œçš„ï¼Œå¹¶ä¸”æ‰20å²å°±å·²ç»æ˜¯ä¸¤ä¸ªå­©å­çš„å¦ˆã€‚</p><h2 id="å…¶ä»–äºº"><a href="#å…¶ä»–äºº" class="headerlink" title="å…¶ä»–äºº"></a>å…¶ä»–äºº</h2><p>æ— è®ºæ˜¯å¸®å¾·è´µå°†é›ªæ¢…æŠ“å›å»çš„ç”·äººä»¬ã€çœ¼çççœ‹ç€é›ªæ¢…çš„æ±‚æ•‘è€Œä¸äºˆå¸®åŠ©çš„æ‘å§”ä¼šä¸»ä»»ï¼Œè¿˜æ˜¯çœ‹ä¼¼ç¤¼è²Œå®åˆ™è¢«ä¹°é€šçš„é‚®é€’å‘˜ã€çŒ¥ççš„å°å–éƒ¨è€æ¿ç­‰ç­‰ï¼Œæ•´éƒ¨ç”µå½±æŠŠæ‘æ°‘çš„æ— çŸ¥ã€å†·æ¼ ã€æ³•ç›²è¡€æ·‹æ·‹åœ°å±•ç°åˆ°åº•ã€‚<br><br>æœ€å¯æ€•çš„æ˜¯å½“è­¦å¯Ÿæ¥æ•‘é›ªæ¢…æ—¶ï¼Œå…¨æ‘äººé›†ä½“å‡ºåŠ¨é˜»æŒ ï¼Œç”šè‡³ä»¥åŠ¨æ­¦å¨èƒã€‚å¾·è´µæ— è§†è­¦å¯Ÿçš„æ‰‹æªï¼Œâ€œçŠ¯å•¥æ³•ï¼Ÿä½ æ‰“ï¼Œæœè¿™æ‰“â€ï¼Œé»„æ¯ä¹Ÿè€èµ·æ— èµ–ï¼Œâ€œä½ ä»¬è¦æŠŠäººå¸¦èµ°ï¼Œä»æˆ‘èº«ä¸Šå‹è¿‡å»ç®—äº†â€ã€‚çœ‹åˆ°è¿™é‡Œçªç„¶è§‰å¾—ä¼¼æ›¾ç›¸è¯†ã€‚å³ä½¿èº«å¤„åŸå¸‚çš„æˆ‘ä»¬ï¼Œéš”ä¸‰å·®äº”ä¾æ—§èƒ½çœ‹åˆ°ç±»ä¼¼çš„äººã€äº‹ã€‚<br><br>ä¸å¾—ä¸è¯´ï¼Œææ¨æ˜¯å‹‡æ•¢çš„ï¼Œå°†ç¤¾ä¼šæœ€çœŸå®çš„ä¸€é¢æ¯«æ— ç²‰é¥°åœ°å±•ç¤ºå‡ºæ¥ã€‚å³ä½¿æ˜¯ç°åœ¨ï¼Œä¸­å›½æ‹å–å¦‡å¥³çš„ç°è±¡ä¾æ—§å­˜åœ¨ï¼Œè€Œä¸”å±¡è§ä¸é²œã€‚å°±åŒç”µå½±ä¸€æ ·ï¼Œæ‘ä¸­çš„äººä»¬ä¸è®¤ä¸ºè¿™æ˜¯çŠ¯æ³•ï¼Œè€Œæ˜¯å¤©ç»åœ°ä¹‰ï¼Œç”šè‡³å°±åœ¨ç”µå½±æ‹æ‘„æ—¶å°±æœ‰å½“åœ°æ‘æ°‘æ¬ä¸çŸ¥è€»åœ°é—®ææ¨ï¼šâ€œé‚£ä¸ªå¥³å¨ƒå¨ƒï¼ˆå¥³ä¸»è§’ï¼‰é•¿å¾—ä¸é”™ï¼Œå¹²è„†å°±å–ç»™æˆ‘å§ã€‚â€ä»–ä»¬è¢«å±±é®è”½äº†åŒçœ¼ï¼Œä¸ä»¥æ— çŸ¥ä¸ºè€»ï¼Œéº»æœ¨ä¸ä»ï¼Œä¸Šä¸‹åŒè°‹ã€‚<br><br>èµ·åˆæˆ‘å¿ƒé‡Œæ˜¯æ— æ¯”çš„æ„¤æ€’ï¼Œä½†æ˜¯çœ‹åˆ°é»„æ¯ä¸ºäº†ä¸è®©é›ªæ¢…å •èƒè€Œç»™é›ªæ¢…ä¸‹è·ªæˆ‘åˆæœ‰äº†åæ€ã€‚æ‘æ°‘ä»¬æƒ³è¦çš„æ— éæ˜¯ä¼ å®—æ¥ä»£ï¼Œå°½ç®¡ä»–ä»¬çš„é“å¾·è§‚ä¸ç¬¦åˆç°ä»£çš„æ ‡å‡†ï¼Œä½†ä»–ä»¬çš„ç›®çš„ä¹Ÿä¸è¿‡å¦‚æ­¤ã€‚æ‰€è°“â€œç©·å±±æ¶æ°´å‡ºåˆæ°‘â€ï¼Œæˆ‘è®¤ä¸ºæ‘æ°‘çš„æš´åŠ›ï¼Œä¹Ÿæ˜¯ç”±äºæåº¦çš„ä¸å®‰å…¨æ„Ÿã€‚å› ä¸ºé•¿æœŸçš„ä¸ä¸–éš”ç»ï¼Œä»–ä»¬çŸ¥é“è‡ªå·±æ˜¯è·Ÿä¸ä¸Šæ—¶ä»£çš„ï¼Œæ˜¯ç¤¾ä¼šçš„æœ€å¼±è€…ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡æš´åŠ›ã€æ— èµ–æ¥å£°æ˜è‡ªå·±çš„æƒç›Šã€‚å…¶å®ä»”ç»†æƒ³ä¸€æƒ³ï¼Œä»–ä»¬ä¸æ˜¯ä¸çŸ¥é“æ‹å–å¦‡å¥³æ˜¯çŠ¯æ³•ï¼Œè€Œæ˜¯é€‰æ‹©éº»æœ¨ï¼Œä¸Šä¸‹ä¸€æ°”ï¼Œå› ä¸ºä»–ä»¬éƒ½æ˜¯ä¸€æ¡ç»³ä¸Šçš„èš‚èš±ã€‚ä»–ä»¬æ˜¯æ—¢å¯æ¨åˆå¯æ‚²çš„ã€‚<br><br>æ‰€ä»¥æ•´éƒ¨ç”µå½±çš„ç½ªäººï¼Œæˆ‘è®¤ä¸ºéäººè´©å­è«å±ã€‚</p><h2 id="å†è¯´é›ªæ¢…"><a href="#å†è¯´é›ªæ¢…" class="headerlink" title="å†è¯´é›ªæ¢…"></a>å†è¯´é›ªæ¢…</h2><p>å…¶å®ç”µå½±ä¸­é›ªæ¢…çš„è®¾å®šæ˜¯å¤§å­¦ç”Ÿå°±è®©æˆ‘æœ‰äº›æ€€ç–‘ï¼Œå› ä¸ºå³ä½¿æ˜¯90å¹´ä»£ï¼Œå¤§å­¦ç”Ÿä¹Ÿä¸è‡³äºä¼šè½»æ˜“ç›¸ä¿¡ä¸€ä¸ªäººè´©å­çš„è¯åˆ°å±±é‡Œå§ï¼Œè¦çŸ¥é“90å¹´ä»£çš„å¤§å­¦ç”Ÿæ˜¯å¤šä¹ˆç¨€æœ‰ï¼Œèƒ½åŠ›å¤šå¼ºä¸è¯´ï¼Œè‡³å°‘åœ¨æœ€åŸºç¡€çš„åˆ¤æ–­åŠ›ä¸Šä¹Ÿä¸ä¼šé‚£ä¹ˆæ„šè ¢ã€‚<br><br>ä¸è¿‡å¯èƒ½ç”µå½±å°±æ˜¯è¿™æ ·ï¼Œä¸èƒ½ä»¥è¿‡åˆ†ç†æ€§çš„çœ¼å…‰å»è¯„åˆ¤ï¼Œåªè¦ä½“ä¼šåˆ°å¯¼æ¼”æƒ³ä¼ è¾¾çš„æ„Ÿæƒ…å’Œæ€æƒ³å°±å¯ä»¥äº†ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œé›ªæ¢…æ— ç–‘æ˜¯æ‚²æƒ¨çš„ï¼Œå°¤å…¶æ˜¯æµ·å¤–ç‰ˆç»“å±€ï¼Œæœ€ç»ˆä¸€åˆ€ç å‘å¾·è´µã€‚å¥¹çš„å‘½è¿ä¾æ—§æ²¡æœ‰è¢«æ”¹å˜ã€‚ä¸è¿‡è¿™ä¹Ÿæ›´åŠ è´´è¿‘ç°å®ã€‚æ¯•ç«Ÿè¢«å¼ºåˆ¶å°é—­åœ¨è¿™å±±é‡Œé‚£ä¹ˆä¹…ï¼Œå¿å—èº«ä½“ã€ç²¾ç¥ä¸Šçš„è™å¾…ï¼Œç»å†ç§ç§ç»æœ›ï¼Œå¥¹å¿ƒé‡Œä¸€å®šæ—©æœ‰æ€’ç«ï¼Œåªæ˜¯æ— æ³•å®£æ³„ã€‚ä»ç”µå½±ä¸­é›ªæ¢…ç»™å¾·è´µæ‹¿æ¯›å·¾é‚£å¤„å°±å¯ä»¥çœ‹å‡ºï¼Œå¥¹å…¶å®æ—©æœ‰æ€æ‰å¾·è´µçš„å¿µå¤´ã€‚å³ä½¿æ˜¯å¤§å­¦ç”Ÿï¼Œå¤„åœ¨é‚£æ ·å……æ»¡æš´åŠ›çš„ç¯å¢ƒä¸­ä¹…äº†ï¼Œä¹Ÿä¼šè¢«åŒåŒ–ï¼Œå› ä¸ºé‚£é‡Œåªæœ‰æš´åŠ›æ‰èƒ½è§£å†³é—®é¢˜ã€‚<br><br>å¯¹è¿™ä¸ªè§’è‰²ï¼Œæˆ‘ä¸æƒ³å¤šè¯´ï¼Œåªæ˜¯æ›¿å¥¹æƒ‹æƒœã€‚æœ‰å“ªä¸ªå¥³ç”Ÿä¸å¸Œæœ›è‡ªå·±èƒ½å¤Ÿäº«å—æ›´å¥½çš„ç‰©è´¨ç”Ÿæ´»ï¼Œèƒ½å¤Ÿå«ç»™è‡ªå·±å¿ƒçˆ±çš„äººï¼Œå¦‚æœå¥¹æ²¡æœ‰è½»ä¿¡äººè´©å­ï¼Œå¥¹çš„ç”Ÿæ´»ä¼šæ˜¯æ— é™ç¾å¥½çš„ï¼Œå‰é€”ä¹Ÿæ˜¯ä¸å¯é™é‡çš„ã€‚æ­£æ˜¯è¿™ç§å·¨å¤§çš„åå·®çªå‡ºäº†è¿™ç§çŸ›ç›¾ã€‚éšç€å‰§æƒ…çš„å‘å±•ï¼Œçœ‹ç€é›ªæ¢…ä¸€æ­¥æ­¥ä»æ¸…çº¯çš„å°‘å¥³ï¼Œåˆ°å¹´ä»…20å¤šå²å°±çœ‹èµ·æ¥åƒå¤§å©¶ï¼Œå¿ƒé‡Œæ— æ¯”å¹æ¯ã€‚<br><br>è€Œç›®å‰åœ¨ä¸­å›½ï¼Œä¾ç„¶æœ‰å¾ˆå¤šè¿™æ ·æ´»ç”Ÿç”Ÿçš„ä¾‹å­ï¼Œå®ƒä»¬ä¹Ÿè®¸å°±å‘ç”Ÿåœ¨æˆ‘ä»¬è€å®¶ï¼Œä¹Ÿè®¸å°±æ˜¯å“ªä¸ªå©¶å©¶ã€å¥¶å¥¶ï¼Œå°±å¦‚ä¸Šæ–‡è¯´çš„æ‘ä¸­å…¶ä»–è¢«æ‹å–è¿›æ¥çš„å¥³äººä¸€æ ·ï¼Œå¥¹ä»¬ä¸åƒé›ªæ¢…ï¼Œå¤§å¤šæ•°åªèƒ½é€‰æ‹©å¦¥åï¼Œç”šè‡³æœ‰äº›è¿˜è§‰å¾—åœ¨é‚£é‡ŒæŒºå¥½ã€‚<br><br>æœ‰è¶£çš„æ˜¯ï¼Œå½±ç‰‡æœ€åæ‰“äº†ä¸€è¡Œå­—å¹•ï¼šâ€œä¸­å›½å…¬å®‰æœºå…³ä¸€ç›´ä¸¥å‰æ‰“å‡»æ‹å–å¦‡å¥³çš„çŠ¯ç½ªæ´»åŠ¨ï¼Œè§£æ•‘å‡ºæ— æ•°è¢«æ‹å–çš„å¦‡å¥³ï¼Œå¹¶å°†çŠ¯ç½ªåˆ†å­ç»³ä¹‹ä»¥æ³•ã€‚â€æ€ä¹ˆçœ‹æ€ä¹ˆåƒæ˜¯è®½åˆºã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ&quot;&gt;&lt;a href=&quot;#è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ&quot; class=&quot;headerlink&quot; title=&quot;è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ&quot;&gt;&lt;/a&gt;è§‚ã€Šç›²å±±ã€‹æœ‰æ„Ÿ&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;ä¸æ˜¯å½±è¯„ï¼Œåªæ˜¯è§‚åæ„Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»Šå¤©çœ‹äº†ã€Š
      
    
    </summary>
    
    
      <category term="movies" scheme="https://blog.markeyme.cn/tags/movies/"/>
    
  </entry>
  
  <entry>
    <title>å¥½å¥½å†™ä»£ç </title>
    <link href="https://blog.markeyme.cn/2018/02/08/%E5%A5%BD%E5%A5%BD%E5%86%99%E4%BB%A3%E7%A0%81%E5%BD%92%E6%A1%A3/"/>
    <id>https://blog.markeyme.cn/2018/02/08/å¥½å¥½å†™ä»£ç å½’æ¡£/</id>
    <published>2018-02-08T06:30:16.000Z</published>
    <updated>2018-02-09T08:50:16.016Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¥½å¥½å†™ä»£ç "><a href="#å¥½å¥½å†™ä»£ç " class="headerlink" title="å¥½å¥½å†™ä»£ç "></a>å¥½å¥½å†™ä»£ç </h1><p>ä½œä¸ºä¸€ä¸ªåˆšå†™ä»£ç ä¸ä¹…çš„å°èœé¸Ÿï¼Œå·¥ä½œçš„åŠå¹´å¤šè®©æˆ‘è¶Šå‘æ„è¯†åˆ°æé«˜ä»£ç è´¨é‡çš„é‡è¦æ€§ã€‚ä»å‰åªä¼šå…³æ³¨å®ç°åŠŸèƒ½ï¼Œæ…¢æ…¢çš„å¼€å§‹å…³æ³¨æ€§èƒ½ï¼Œç°é˜¶æ®µåˆ™å‘ç°å…¶å®è¿˜æœ‰å¾ˆå¤šç»†èŠ‚ä¹Ÿæ˜¯ï¼ˆå¦‚å¯è¯»æ€§ã€æ˜“ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ã€ä¸€è‡´æ€§ï¼‰æé«˜ä»£ç è´¨é‡çš„å…³é”®ã€‚â€œå®ç°åŠŸèƒ½â€è·Ÿâ€œä¼˜é›…åœ°å®ç°åŠŸèƒ½â€æ˜¯ä¸¤ç äº‹ã€‚</p><p>å¤§éƒ¨åˆ†å½’çº³è‡ªç½‘ç»œï¼Œå°†å¤šç¯‡æ–‡ç« çš„è§‚ç‚¹æ±‡æ€»åŠ å·¥äº†ä¸€ä¸‹ï¼Œä¹Ÿèåˆäº†ä¸€äº›ä¸ªäººçš„è§è§£ã€‚</p><h2 id="åŸåˆ™"><a href="#åŸåˆ™" class="headerlink" title="åŸåˆ™"></a>åŸåˆ™</h2><ul><li>å•ä¸€èŒè´£åŸåˆ™</li><li>æ˜“ç”¨æ€§åŸåˆ™</li><li>å¯è¯»æ€§åŸåˆ™</li><li><p>å¤æ‚æ€§å®ˆæ’åŸåˆ™ï¼šæ— è®ºä½ æ€ä¹ˆå†™ä»£ç ï¼Œå¤æ‚æ€§éƒ½æ˜¯ä¸ä¼šæ¶ˆå¤±çš„</p><blockquote><p>æ³¨ï¼šå¦‚æœé€»è¾‘å¾ˆå¤æ‚ï¼Œé‚£ä¹ˆä»£ç çœ‹èµ·æ¥å°±åº”è¯¥æ˜¯å¤æ‚çš„ã€‚å¦‚æœé€»è¾‘å¾ˆç®€å•ï¼Œä»£ç çœ‹èµ·æ¥å°±åº”è¯¥æ˜¯ç®€å•çš„ã€‚</p></blockquote></li></ul><h3 id="å•ä¸€èŒè´£åŸåˆ™"><a href="#å•ä¸€èŒè´£åŸåˆ™" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™"></a>å•ä¸€èŒè´£åŸåˆ™</h3><p>é¢å‘å¯¹è±¡äº”å¤§è®¾è®¡æ¨¡å¼åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚å³<strong>ä¸€éƒ¨åˆ†ä»£ç åªåº”è¯¥ç”¨äºæŸä¸€ä¸ªç‰¹å®šåŠŸèƒ½ï¼Œä¸åº”ä¸å…¶ä»–åŠŸèƒ½è€¦åˆåœ¨ä¸€èµ·</strong>ã€‚</p><p>å‡è®¾ä½ çš„ä¸€ä¸ªfunctionåŒæ—¶å®ç°äº†åŠŸèƒ½aå’ŒåŠŸèƒ½bï¼Œä¹‹åéœ€æ±‚å˜æ›´ï¼Œä½ éœ€è¦ä¿®æ”¹åŠŸèƒ½aï¼Œä½†æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªåŠŸèƒ½éƒ½åœ¨ä¸€ä¸ªfunctioné‡Œï¼Œä½ å°±ä¸å¾—ä¸å†å»ç¡®è®¤æ˜¯å¦ä¼šå½±å“åˆ°åŠŸèƒ½bã€‚è¿™å°±é€ æˆäº†ä¸å¿…è¦çš„æˆæœ¬ã€‚</p><p>å¦‚ä¸‹æˆ‘æ€»ç»“äº†ä¸‰ä¸ªæ‹†åˆ†ä»£ç çš„åŸåˆ™ï¼š</p><h4 id="â€œandâ€åŸåˆ™"><a href="#â€œandâ€åŸåˆ™" class="headerlink" title="â€œandâ€åŸåˆ™"></a>â€œandâ€åŸåˆ™</h4><p>å½“ä½ ä¸ºä½ çš„æ–¹æ³•å‘½åæ—¶ä¸å¾—ä¸åŠ ä¸Šâ€œandâ€æ—¶ï¼Œå°±è¯¥è€ƒè™‘è€ƒè™‘æ˜¯ä¸æ˜¯è¦æŠŠè¿™ä¸ªæ–¹æ³•æ‹†åˆ†ä¸€ä¸‹äº†ã€‚</p><h4 id="â€œ100â€åŸåˆ™"><a href="#â€œ100â€åŸåˆ™" class="headerlink" title="â€œ100â€åŸåˆ™"></a>â€œ100â€åŸåˆ™</h4><p>å½“ä½ çš„ä¸€ä¸ªfunctionè¶…è¿‡ä¸€ç™¾è¡Œæ—¶ï¼Œä¸€å®šè¦è¿›è¡Œæ‹†åˆ†äº†ã€‚</p><blockquote><p>æ³¨ï¼šè¿™é‡Œçš„100å¯èƒ½æœ‰ç‚¹å¤šï¼Œåªæ˜¯å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œ100ç®—æ˜¯æˆ‘çš„æé™ï¼Œæ€»ä¹‹å°±æ˜¯ç»å¯¹ä¸è¦å°†ä¸€ä¸ªå‡½æ•°å†™çš„å¤ªé•¿ã€‚</p></blockquote><h4 id="å‘½ä»¤ã€æŸ¥è¯¢æ‹†åˆ†åŸåˆ™"><a href="#å‘½ä»¤ã€æŸ¥è¯¢æ‹†åˆ†åŸåˆ™" class="headerlink" title="å‘½ä»¤ã€æŸ¥è¯¢æ‹†åˆ†åŸåˆ™"></a>å‘½ä»¤ã€æŸ¥è¯¢æ‹†åˆ†åŸåˆ™</h4><p>æˆ‘ä»¬å¼€å‘ä¸­å¤§éƒ¨åˆ†æ“ä½œå¯ä»¥æ€»ç»“ä¸ºâ€œå‘½ä»¤â€å’Œâ€œæŸ¥è¯¢â€ï¼Œå¦‚å†™cookieã€ä¿®æ”¹dataã€å‘é€postè¯·æ±‚éƒ½å¯ä»¥å«â€œå‘½ä»¤â€ï¼Œè€Œè¯»å–cookieã€ajaxè·å–æ•°æ®åˆ™è®¤ä¸ºæ˜¯â€œæŸ¥è¯¢â€æ“ä½œã€‚</p><p>å‡½æ•°å¼ç¼–ç¨‹ä¸­è®²ç©¶â€œæ•°æ®ä¸å¯å˜â€ï¼Œå³ï¼š</p><blockquote><p>åªæœ‰çº¯çš„æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ï¼Œæ‰æ˜¯åˆæ ¼çš„å‡½æ•°ã€‚</p><p>å‰¯ä½œç”¨ï¼šæŒ‡å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œé™¤äº†è¿”å›å‡½æ•°å€¼ä¹‹å¤–ï¼Œè¿˜å¯¹ä¸»è°ƒç”¨å‡½æ•°äº§ç”Ÿé™„åŠ çš„å½±å“ã€‚ä¾‹å¦‚ä¿®æ”¹å…¨å±€å˜é‡ï¼ˆå‡½æ•°å¤–çš„å˜é‡ï¼‰æˆ–ä¿®æ”¹å‚æ•°ã€‚</p></blockquote><p>å¥½å¤„æ˜¯ä½¿å¾—å¼€å‘æ›´åŠ ç®€å•ï¼Œå¯å›æº¯ï¼Œæµ‹è¯•å‹å¥½ï¼Œå‡å°‘äº†ä»»ä½•å¯èƒ½çš„å‰¯ä½œç”¨ã€‚</p><p>å°†â€œå‘½ä»¤â€ä¸â€œæŸ¥è¯¢â€æ‹†åˆ†å®é™…ä¸Šå°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³çš„éƒ¨åˆ†ä½“ç°ï¼Œå‚è€ƒå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> firstName = <span class="built_in">document</span>.querySelector(<span class="string">"#firstName"</span>).value;</span><br><span class="line">    firstName = firstName.toLowerCase();</span><br><span class="line">    setCookie(<span class="string">"firstName"</span>, firstName);</span><br><span class="line">    <span class="keyword">if</span> (firstName === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> firstName;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> activeFirstName = getFirstName();</span><br></pre></td></tr></table></figure><p>é€šè¿‡åå­—æ¥çœ‹ï¼Œè¯¥æ–¹æ³•æ˜¯ç”¨äºè·å–first nameçš„ï¼Œä½†å®é™…ä¸Šå®ƒè¿˜è®¾ç½®äº†cookieï¼Œè¿™æ˜¯æˆ‘ä»¬æ²¡æœ‰é¢„æ–™çš„ã€‚å¯¹äºä¸€ä¸ªâ€œæŸ¥è¯¢â€æ–¹æ³•ï¼Œå®ƒä¸åº”è¯¥æœ‰ä»»ä½•ä¿®æ”¹æ–¹æ³•å¤–å˜é‡çš„è¡Œä¸ºï¼Œå³â€œå‰¯ä½œç”¨â€ã€‚æ›´å¥½çš„å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> firstName = <span class="built_in">document</span>.querySelector(<span class="string">"#firstName"</span>).value</span><br><span class="line">    <span class="keyword">if</span> (firstName === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> firstName;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">setCookie(<span class="string">"firstName"</span>, getFirstName().toLowerCase());</span><br></pre></td></tr></table></figure><p>ä¸€ç›®äº†ç„¶ï¼ŒgetFirstNameåªè¿”å›firstNameï¼Œè€Œè®¾ç½®cookieæ“ä½œåœ¨å®ƒä¹‹å¤–è¿›è¡Œã€‚</p><h3 id="æ˜“ç”¨æ€§åŸåˆ™"><a href="#æ˜“ç”¨æ€§åŸåˆ™" class="headerlink" title="æ˜“ç”¨æ€§åŸåˆ™"></a>æ˜“ç”¨æ€§åŸåˆ™</h3><h4 id="ç®€å•"><a href="#ç®€å•" class="headerlink" title="ç®€å•"></a>ç®€å•</h4><p>è¿™é‡Œçš„ç®€å•ï¼Œä¸»è¦å½’ç»“ä¸ºfunctionçš„ä¸€äº›è®¾è®¡åŸåˆ™ï¼Œæœ‰å¦‚ä¸‹å‡ ç‚¹ï¼šè°ƒç”¨ç®€å•ã€æ˜“ç†è§£ã€å‡å°‘è®°å¿†æˆæœ¬ã€å‚æ•°å¤„ç†ã€‚</p><p>å¦‚ä¸‹ï¼Œä»…ä»…æƒ³å®ç°ä¿®æ”¹domé¢œè‰²ã€å®½åº¦ç­‰å±æ€§ï¼ŒåŸç”Ÿä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#id'</span>).style.color = <span class="string">'red'</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#id'</span>).style.width = <span class="string">'123px'</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#id'</span>).style.height = <span class="string">'456px'</span></span><br></pre></td></tr></table></figure><p>è€Œå°è£…è¿‡åï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">selector, color, width, height</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.color = color</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.width = width</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.height = height</span><br><span class="line">&#125;</span><br><span class="line">a(<span class="string">'#a'</span>, <span class="string">'red'</span>)</span><br></pre></td></tr></table></figure><p>ç¬é—´å˜å¾—<strong>ç®€å•å¯ç”¨</strong>äº† ~</p><p>ä½†è¯¥æ–¹æ³•è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å‘½åå¤ªæŠ½è±¡äº†ã€‚ã€‚ã€‚é™¤äº†å¼€å‘è€…è‡ªå·±ä»¥å¤–ä¸å¯èƒ½æœ‰äººåœ¨ä¸çœ‹æºç çš„æƒ…å†µä¸‹ä¸€çœ¼çœ‹å‡ºè¿™ä¸ªæ–¹æ³•aæ˜¯å¹²å˜›çš„ã€‚é‚£ä¹ˆå’±å†æŠŠè¿™ä¸ªæ–¹æ³•åæ”¹å†™å¾—æ›´<strong>æ˜“ç†è§£</strong>ä¸€ç‚¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">letSomeElementChange</span>(<span class="params">selector, color, width, height</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.color = color</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.width = width</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.height = height</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±èƒ½ä¸€ç›®äº†ç„¶è¯¥æ–¹æ³•çš„ä½œç”¨ ~ ä¸è¿‡ä»æœ‰å¯ä¼˜åŒ–çš„åœ°æ–¹ã€‚è¿™ä¹ˆé•¿çš„æ–¹æ³•åè°è®°å¾—ä½ï¼Œè¦<strong>å‡å°‘è®°å¿†æˆæœ¬</strong>å•Šï¼Œå†æ”¹ä¸ªåï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setElement</span>(<span class="params">selector, color, width, height</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.color = color</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.width = width</span><br><span class="line">  <span class="built_in">document</span>.querySelector(selector).style.height = height</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OKï¼Œç›®å‰è¿™ä¸ªæ–¹æ³•å·²ç»æ»¡è¶³å®ƒçš„èŒè´£å¹¶ä¸”å¾ˆå¥½ç”¨äº†ï¼Œä½†è¿˜è§‰å¾—æ€ªæ€ªçš„ã€‚è¿™ä¸€å¨å‚æ•°å¤ªç¢çœ¼ã€‚ã€‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setElement</span>(<span class="params">selector, opt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; color, width, height &#125; = opt</span><br><span class="line">  color &amp;&amp; <span class="built_in">document</span>.querySelector(selector).style.color = color</span><br><span class="line">  width &amp;&amp; <span class="built_in">document</span>.querySelector(selector).style.width = width</span><br><span class="line">  height &amp;&amp; <span class="built_in">document</span>.querySelector(selector).style.height = height</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠŠå¤šä¸ªå‚æ•°åˆå¹¶ä¸€ä¸‹ï¼Œå¹¶åœ¨å†…éƒ¨åšå…¼å®¹å¤„ç†ï¼Œè¿™ä¸ªæ–¹æ³•ä¾¿æ˜“ç”¨å¤šäº†ã€‚å³ä½¿ä¸ä¼ ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚</p><h4 id="ä¸€è‡´æ€§"><a href="#ä¸€è‡´æ€§" class="headerlink" title="ä¸€è‡´æ€§"></a>ä¸€è‡´æ€§</h4><p>å‡å¦‚æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼Œè·å–æ­Œæ›²åˆ—è¡¨ï¼Œå¹¶å°†å…¶è®¾ç½®åˆ°divçš„innerTextä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSongs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> $.get(<span class="string">'/songs).then((response) &#123;</span></span><br><span class="line"><span class="string">      div.innerText = response.songs</span></span><br><span class="line"><span class="string">  &#125;)</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™å°±è¿èƒŒäº†æ–¹æ³•çš„<strong>è¡¨é‡Œä¸€è‡´æ€§</strong>ï¼Œä¹Ÿè¿èƒŒäº†ä¸Šæ–‡çš„<strong>å•ä¸€èŒè´£åŸåˆ™</strong>ä¸­<strong>å‘½ä»¤ã€æŸ¥è¯¢æ‹†åˆ†åŸåˆ™</strong>ï¼Œå› ä¸ºå®ƒä¸ä»…è·å–äº†æ­Œå•ï¼ŒåŒæ—¶è¿˜ä¿®æ”¹äº†innerTextï¼Œè¦è®©å…¶æ›´åˆç†ï¼š</p><ul><li>è¦ä¹ˆæ¢ä¸ªåå­—</li><li>è¦ä¹ˆæ‹†åˆ†ä¸ºä¸¤ä¸ªæ–¹æ³•</li></ul><h4 id="ä½è€¦åˆ"><a href="#ä½è€¦åˆ" class="headerlink" title="ä½è€¦åˆ"></a>ä½è€¦åˆ</h4><p><strong>è€¦åˆæ˜¯è¡¡é‡ä¸€ä¸ªç¨‹åºå•å…ƒå¯¹å…¶ä»–ç¨‹åºå•å…ƒçš„ä¾èµ–ç¨‹åº¦</strong>ã€‚è€¦åˆï¼ˆæˆ–é«˜è€¦åˆï¼‰æ˜¯åº”è¯¥æåŠ›é¿å…çš„ã€‚å¦‚æœä½ å‘ç°è‡ªå·±æ­£åœ¨å¤åˆ¶å’Œç²˜è´´ä»£ç å¹¶è¿›è¡Œå°çš„æ›´æ”¹ï¼Œæˆ–è€…é‡å†™ä»£ç ï¼Œå› ä¸ºå…¶ä»–åœ°æ–¹å‘ç”Ÿäº†æ›´æ”¹ï¼Œè¿™å°±æ˜¯é«˜è€¦åˆçš„ä½“ç°ã€‚</p><p>è€¦åˆä¼šä¸¥é‡å½±å“ä»£ç çš„å¤ç”¨æ€§åŠå¯æ‰©å±•æ€§ï¼Œè®©åäººç»´æŠ¤æ—¶ä¸å¾—ä¸ä¿®æ”¹ç”šè‡³é‡å†™è¿™éƒ¨åˆ†ä»£ç ï¼Œä¸ä»…æµªè´¹æ—¶é—´è¿˜ä¼šå¯¼è‡´ä»“å‚¨ä¸­åˆå¤šå‡ºä¸€å—ç±»ä¼¼çš„ä»£ç ï¼Œå¾ˆå®¹æ˜“è®©äººè¿·æƒ‘ã€‚</p><p>åŒæ—¶ï¼Œä¿®æ”¹è€¦åˆåº¦é«˜çš„ä»£ç æ—¶ç»å¸¸ä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œå¦‚æœä¿®æ”¹æ—¶æ²¡æœ‰ç†æ¸…è¿™äº›è€¦åˆå…³ç³»ï¼Œé‚£ä¹ˆå¸¦æ¥çš„åæœå¯èƒ½ä¼šæ˜¯ç¾éš¾æ€§çš„ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéœ€æ±‚å˜åŒ–è¾ƒå¤šä»¥åŠå¤šäººåä½œå¼€å‘ç»´æŠ¤çš„é¡¹ç›®ï¼Œä¿®æ”¹ä¸€ä¸ªåœ°æ–¹ä¼šå¼•èµ·æœ¬æ¥å·²ç»è¿è¡Œç¨³å®šçš„æ¨¡å—é”™è¯¯ï¼Œä¸¥é‡æ—¶ä¼šå¯¼è‡´æ¶æ€§å¾ªç¯ï¼Œé—®é¢˜æ°¸è¿œæ”¹ä¸å®Œï¼Œå¼€å‘å’Œæµ‹è¯•éƒ½åœ¨å„ç§é—®é¢˜ä¹‹é—´å¥”æ³¢åŠ³ç´¯ï¼Œæœ€åå¯¼è‡´é¡¹ç›®å»¶æœŸï¼Œç”¨æˆ·æ»¡æ„åº¦é™ä½ï¼Œæˆæœ¬ä¹Ÿå¢åŠ äº†ï¼Œè¿™å¯¹ç”¨æˆ·å’Œå¼€å‘å•†å½±å“éƒ½æ˜¯å¾ˆæ¶åŠ£çš„ï¼Œå„ç§é£é™©ä¹Ÿå°±ä¸è¨€è€Œå–»äº†ã€‚</p><h4 id="é«˜å†…èš"><a href="#é«˜å†…èš" class="headerlink" title="é«˜å†…èš"></a>é«˜å†…èš</h4><blockquote><p><strong>ä¸åº”è¯¥å°†æ²¡æœ‰ä»»ä½•è”ç³»çš„ä¸œè¥¿å †åˆ°ä¸€èµ·ã€‚</strong></p></blockquote><p><strong>å†…èšæ˜¯ä¸€ä¸ªç±»ä¸­å˜é‡ä¸æ–¹æ³•è¿æ¥å¼ºåº¦çš„å°ºåº¦</strong>ã€‚é«˜å†…èšæ˜¯å€¼å¾—è¦çš„ï¼Œå› ä¸ºå®ƒæ„å‘³ç€ç±»å¯ä»¥æ›´å¥½åœ°æ‰§è¡Œä¸€é¡¹å·¥ä½œã€‚ä½å†…èšæ˜¯ä¸å¥½çš„ï¼Œå› ä¸ºå®ƒè¡¨æ˜ç±»ä¸­çš„å…ƒç´ ä¹‹é—´å¾ˆå°‘ç›¸å…³ã€‚æ¯ä¸ªæ–¹æ³•ä¹Ÿåº”è¯¥é«˜å†…èšï¼Œå¤§å¤šæ•°çš„æ–¹æ³•åªæ‰§è¡Œä¸€ä¸ªåŠŸèƒ½ï¼Œä¸è¦åœ¨æ–¹æ³•ä¸­æ·»åŠ â€˜é¢å¤–â€™çš„æŒ‡ä»¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ–¹æ³•æ‰§è¡Œæ›´å¤šçš„å‡½æ•°ï¼ŒåŒæ—¶ä¹Ÿè¿åäº†ä¸Šæ–‡çš„<strong>å•ä¸€èŒè´£åŸåˆ™</strong>ã€‚</p><p><strong>ä½å†…èšçš„ä½“ç°</strong>ï¼šå¦‚æœå±æ€§æ²¡æœ‰è¢«ç±»ä¸­çš„å¤šä¸ªæ–¹æ³•ä½¿ç”¨ï¼Œè¿™å¯èƒ½æ˜¯ä½å†…èšçš„æ ‡å¿—ã€‚åŒæ ·ï¼Œå¦‚æœæ–¹æ³•åœ¨å‡ ç§ä¸åŒçš„æƒ…å†µä¸‹ä¸èƒ½è¢«é‡ç”¨ï¼Œæˆ–è€…å¦‚æœä¸€ä¸ªæ–¹æ³•æ ¹æœ¬ä¸è¢«ä½¿ç”¨ï¼Œè¿™ä¹Ÿå¯èƒ½æ˜¯ä½å†…èšçš„ä¸€ä¸ªæ ‡å¿—ã€‚</p><p><strong>é«˜å†…èšæœ‰åŠ©äºç¼“è§£é«˜è€¦åˆï¼Œé«˜è€¦åˆæ˜¯éœ€è¦é«˜å†…èšçš„æ ‡å¿—</strong>ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªé—®é¢˜åŒæ—¶å­˜åœ¨ï¼Œåº”å½“é€‰æ‹©å†…èšçš„æ–¹å¼ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œé«˜å†…èšé€šå¸¸æ¯”ä½è€¦åˆæ›´æœ‰å¸®åŠ©ï¼Œå°½ç®¡ä¸¤è€…é€šå¸¸å¯ä»¥ä¸€èµ·å®Œæˆã€‚</p><h4 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h4><ul><li>å¯é¢„è§çš„é”™è¯¯ï¼šè¯¸å¦‚ajaxå›è°ƒã€å‡½æ•°å‚æ•°ï¼Œè¿™ç±»é—®é¢˜å¾ˆå¥½è§£å†³ï¼Œåªéœ€åœ¨å¼€å‘æ—¶å¤šè€ƒè™‘ä¸€æ­¥ï¼Œå¯¹å„ç§æç«¯æƒ…å†µåšå¥½å…¼å®¹å³å¯ã€‚</li><li>ä¸å¯é¢„è§çš„é”™è¯¯ï¼šç±»ä¼¼å…¼å®¹æ€§é—®é¢˜ï¼Œè¿™ç±»é—®é¢˜æ— æ³•åœ¨å¼€å‘æ—¶å‡†ç¡®é¢„è§çš„é”™è¯¯ï¼Œå¯ä»¥å‡†å¤‡å¥½æŠ›é”™ï¼Œconsole.error/log/warnï¼Œæœ€åä½ è¿˜å¯ä»¥ä¸ºè‡ªå·±çš„ç¨‹åºç•™äº›åè·¯: tryâ€¦catchã€‚</li></ul><h3 id="å¯è¯»æ€§åŸåˆ™"><a href="#å¯è¯»æ€§åŸåˆ™" class="headerlink" title="å¯è¯»æ€§åŸåˆ™"></a>å¯è¯»æ€§åŸåˆ™</h3><h4 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h4><p>å‘½ååº”è¯¥ä¿è¯åˆ«äººé€šè¿‡åç§°ä¸€çœ¼å°±èƒ½çŸ¥é“è¿™ä¸ªå˜é‡ä¿å­˜çš„æ˜¯ä»€ä¹ˆï¼Œæˆ–è€…è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ã€‚</p><ul><li><p>æ™®é€šå˜é‡ã€å±æ€§ç”¨åè¯å¦‚ä¸‹ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">'Frank'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student = &#123;</span><br><span class="line">    grade: <span class="number">3</span>,</span><br><span class="line">    class: 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>boolå˜é‡ã€å±æ€§ç”¨ï¼ˆå½¢å®¹è¯ï¼‰æˆ–è€…ï¼ˆbeåŠ¨è¯ï¼‰æˆ–è€…ï¼ˆæƒ…æ€åŠ¨è¯ï¼‰æˆ–è€…ï¼ˆhasXï¼‰ï¼Œå¦‚ä¸‹ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    dead: <span class="literal">false</span>, <span class="comment">// å¦‚æœæ˜¯å½¢å®¹è¯ï¼Œå‰é¢å°±æ²¡å¿…è¦åŠ  isï¼Œæ¯”å¦‚isDead å°±å¾ˆåºŸè¯</span></span><br><span class="line">    canSpeak: <span class="literal">true</span>, <span class="comment">//æƒ…æ€åŠ¨è¯æœ‰ canã€shouldã€willã€need ç­‰ï¼Œæƒ…æ€åŠ¨è¯åé¢æ¥åŠ¨è¯</span></span><br><span class="line">    isVip: <span class="literal">true</span>, <span class="comment">// be åŠ¨è¯æœ‰ isã€was ç­‰ï¼Œåé¢ä¸€èˆ¬æ¥åè¯</span></span><br><span class="line">    hasChildren: <span class="literal">true</span>, <span class="comment">// has åŠ åè¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ™®é€šå‡½æ•°ã€æ–¹æ³•ç”¨ï¼ˆåŠ¨è¯ï¼‰å¼€å¤´ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    run()&#123;&#125;, <span class="comment">// ä¸åŠç‰©åŠ¨è¯</span></span><br><span class="line">    drinkWater()&#123;&#125;, <span class="comment">// åŠç‰©åŠ¨è¯</span></span><br><span class="line">    eat(foo)&#123;&#125;, <span class="comment">// åŠç‰©åŠ¨è¯åŠ å‚æ•°ï¼ˆå‚æ•°æ˜¯åè¯ï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å›è°ƒã€é’©å­å‡½æ•°ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    beforeDie()&#123;&#125;,</span><br><span class="line">    afterDie()&#123;&#125;,</span><br><span class="line">    <span class="comment">// æˆ–è€…</span></span><br><span class="line">    willDie()&#123;&#125;</span><br><span class="line">    dead()&#123;&#125; <span class="comment">// è¿™é‡Œè·Ÿ bool å†²çªï¼Œä½ åªè¦ä¸åŒæ—¶æš´éœ² bool dead å’Œå‡½æ•° dead å°±è¡Œï¼Œæ€•å†²çªå°±ç”¨ä¸Šé¢çš„ afterDie</span></span><br><span class="line">&#125;</span><br><span class="line">button.addEventListener(<span class="string">'click'</span>, onButtonClick)</span><br><span class="line"><span class="keyword">var</span> component = &#123;</span><br><span class="line">    beforeCreate()&#123;&#125;,</span><br><span class="line">    created()&#123;&#125;,</span><br><span class="line">    beforeMount()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å‘½åä¸€è‡´æ€§</p><ul><li>é¡ºåºä¸€è‡´æ€§ï¼šæ¯”å¦‚ updateContainerWidth å’Œ updateHeightOfContainer çš„é¡ºåºå°±ä»¤äººå¾ˆåˆ«æ‰­</li><li><strong>æ—¶é—´ä¸€è‡´æ€§</strong>ï¼šæœ‰å¯èƒ½éšç€ä»£ç çš„å˜è¿ï¼Œä¸€ä¸ªå˜é‡çš„å«ä¹‰å·²ç»ä¸åŒäºå®ƒä¸€å¼€å§‹çš„å«ä¹‰äº†ï¼Œè¿™ä¸ªæ—¶å€™ä½ éœ€è¦åŠæ—¶æ”¹æ‰è¿™ä¸ªå˜é‡çš„åå­—ã€‚<br>è¿™ä¸€æ¡æ˜¯æœ€éš¾åšåˆ°çš„ï¼Œå› ä¸ºå†™ä»£ç å®¹æ˜“ï¼Œæ”¹ä»£ç éš¾ã€‚å¦‚æœè¿™ä¸ªä»£ç ç»„ç»‡å¾—ä¸å¥½ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„æƒ…å†µï¼ˆå¦‚å…¨å±€å˜é‡å°±å¾ˆéš¾æ”¹ï¼‰</li></ul></li></ul><h4 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h4><p>ä¸éœ€è¦å¤šèŠ±å“¨ï¼Œåªè¦æŠŠä½œç”¨ã€ç”¨æ³•æè¿°æ¸…æ¥šå³å¯ã€‚æ–¹æ³•çš„æ ‡å‡†æ³¨é‡Šåº”è¯¥å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [function_name description]</span></span><br><span class="line"><span class="comment"> * @param  &#123;[type]&#125; argument [description]</span></span><br><span class="line"><span class="comment"> * @return &#123;[type]&#125;          [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">function_name</span>(<span class="params">argument</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// body...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†æ–¹æ³•çš„å‚æ•°ä¸è¿”å›å€¼éƒ½å†™æ¸…æ¥šï¼Œæˆ‘ç›®å‰ç”¨çš„IDEæ˜¯sublimeï¼Œä½¿ç”¨<a href="https://atom.io/packages/docblockr" target="_blank" rel="noopener">Docblockr</a>æ’ä»¶å¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ ¼å¼åŒ–æ³¨é‡Šï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><h3 id="Bad-Smell"><a href="#Bad-Smell" class="headerlink" title="Bad Smell"></a>Bad Smell</h3><p>é¡¹ç›®ä¸­æˆ‘ä»¬ç»å¸¸èƒ½å¤Ÿé‡è¿™ç±»ä»£ç ï¼Œå®ƒä»¬ä»å¯ç”¨ï¼Œä½†æ˜¯å¾ˆâ€œè‡­â€ï¼Œå›½å¤–ç®¡è¿™ç±»ä»£ç æœ‰ä¸€ä¸ªç»Ÿç§°ï¼Œå³â€œbad smellâ€ã€‚å¦‚ä¸‹è¿™ç±»ä»£ç å¯ä»¥è¯´æ˜¯å¾ˆâ€œè‡­â€äº†ï¼š</p><ul><li>è¡¨é‡Œä¸ä¸€çš„ä»£ç </li><li>è¿‡æ—¶çš„æ³¨é‡Š</li><li>é€»è¾‘å¾ˆç®€å•ï¼Œä½†æ˜¯çœ‹èµ·æ¥å¾ˆå¤æ‚çš„ä»£ç </li><li>é‡å¤çš„ä»£ç </li><li>ç›¸ä¼¼çš„ä»£ç </li><li>æ€»æ˜¯ä¸€èµ·å‡ºç°çš„ä»£ç </li><li>æœªä½¿ç”¨çš„ä¾èµ–</li><li>ä¸åŒé£æ ¼çš„ä»£ç </li></ul><h3 id="æ ·å¼è§„èŒƒ"><a href="#æ ·å¼è§„èŒƒ" class="headerlink" title="æ ·å¼è§„èŒƒ"></a>æ ·å¼è§„èŒƒ</h3><ol><li><strong>æ­£ç¡®å‘½å</strong>ï¼šclasså¿…é¡»ç”¨â€œ-â€å†™æ³•ï¼Œä¸è¦ç”¨é©¼å³°å’Œä¸‹åˆ’çº¿ã€‚</li><li><strong>æ­£ç¡®åµŒå¥—</strong>ï¼šæ­£å¸¸æƒ…å†µä¸‹ä¸€å®šè¦å°†classåµŒå¥—é—­åˆï¼Œå¦åˆ™å°±ç›¸å½“äºæ·»åŠ åˆ°å…¨å±€ï¼Œå¦‚æœæœ‰é‡å¤å‘½åçš„classå°±ä¼šå—å½±å“ã€‚</li><li><strong>æ‹’ç»copy</strong>ï¼šå¦‚æœæƒ³å¤ç”¨å·²æœ‰çš„æ ·å¼ï¼Œç›´æ¥åœ¨åŸæœ‰classä¸Šç”¨â€œ,â€è¯­æ³•åˆ†å‰²ï¼Œå°±èƒ½åº”ç”¨ï¼Œä¸è¦å†copyä¸€ä»½æ ·å¼ï¼Œä¼šè®©ä¸¤ä»½æ ·å¼éƒ½è¢«åº”ç”¨ï¼Œå°±è¦è€ƒè™‘æ ·å¼è¦†ç›–çš„é—®é¢˜ï¼Œå¾ˆä¸å‹å¥½ã€‚</li><li><strong>æ»¥ç”¨class</strong>ï¼šæ²¡æœ‰å¿…è¦åŠ çš„classä¸è¦åŠ ï¼Œæ¯ä¸ªclassçš„æ·»åŠ éƒ½åº”è¯¥æœ‰æ˜ç¡®ç†ç”±ã€‚æ»¥ç”¨classçš„è¯å¯èƒ½ä¼šå¯¼è‡´æ ·å¼è¦†ç›–ï¼Œä¸è¯¥åº”ç”¨è¿™ä¸ªæ ·å¼çš„åœ°æ–¹ç”¨äº†æŸä¸ªæ ·å¼ã€‚</li><li><p>æ…ç”¨ <strong>!important</strong>ï¼Œä¼šå¼ºè¡Œè¦†ç›–æ‰€æœ‰åŒå±æ€§æ ·å¼ï¼Œä¸€æ—¦ä½¿ç”¨åä¼šè®©ä»£ç éš¾ä»¥ç»´æŠ¤ï¼Œå¼€å‘è¿‡ç¨‹ä¸­ç»å¯¹ä¸è¦ä¾èµ–è¯¥æ–¹æ³•ã€‚å¦‚ä¸‹æ€»ç»“äº†ä¸€äº›ä½¿ç”¨ <strong>!important</strong>çš„ç»éªŒï¼š</p><ul><li>ä¸€å®šè¦ä¼˜åŒ–è€ƒè™‘ä½¿ç”¨æ ·å¼è§„åˆ™çš„ä¼˜å…ˆçº§æ¥è§£å†³é—®é¢˜è€Œä¸æ˜¯ !important</li><li>åªæœ‰åœ¨éœ€è¦è¦†ç›–å…¨ç«™æˆ–å¤–éƒ¨ cssï¼ˆä¾‹å¦‚å¼•ç”¨çš„ ExtJs æˆ–è€… YUI ï¼‰çš„ç‰¹å®šé¡µé¢ä¸­ä½¿ç”¨ !important</li><li>è§£å†³ç´§æ€¥çº¿ä¸Šé—®é¢˜å¯ä»¥ä½¿ç”¨ï¼Œä½†ä¹‹åä¹Ÿè¦å°½å¿«ç”¨å¯ç»´æŠ¤çš„æ–¹å¼å°†ä»£ç æ›¿æ¢å›æ¥</li><li>æ°¸è¿œä¸è¦åœ¨å…¨ç«™èŒƒå›´çš„ css ä¸Šä½¿ç”¨ !important</li><li>æ°¸è¿œä¸è¦åœ¨ä½ çš„æ’ä»¶ä¸­ä½¿ç”¨ !important</li></ul></li></ol><h2 id="è¯´å¾—å®¹æ˜“ï¼Œåšèµ·æ¥éš¾"><a href="#è¯´å¾—å®¹æ˜“ï¼Œåšèµ·æ¥éš¾" class="headerlink" title="è¯´å¾—å®¹æ˜“ï¼Œåšèµ·æ¥éš¾"></a>è¯´å¾—å®¹æ˜“ï¼Œåšèµ·æ¥éš¾</h2><h3 id="ç ´çª—æ•ˆåº”"><a href="#ç ´çª—æ•ˆåº”" class="headerlink" title="ç ´çª—æ•ˆåº”"></a>ç ´çª—æ•ˆåº”</h3><blockquote><p>æ­¤ç†è®ºè®¤ä¸ºç¯å¢ƒä¸­çš„ä¸è‰¯ç°è±¡å¦‚æœè¢«æ”¾ä»»å­˜åœ¨ï¼Œä¼šè¯±ä½¿äººä»¬ä»¿æ•ˆï¼Œç”šè‡³å˜æœ¬åŠ å‰ã€‚ä¸€å¹¢æœ‰å°‘è®¸ç ´çª—çš„å»ºç­‘ä¸ºä¾‹ï¼Œå¦‚æœé‚£äº›çª—ä¸è¢«ä¿®ç†å¥½ï¼Œå¯èƒ½å°†ä¼šæœ‰ç ´åè€…ç ´åæ›´å¤šçš„çª—æˆ·ã€‚æœ€ç»ˆä»–ä»¬ç”šè‡³ä¼šé—¯å…¥å»ºç­‘å†…ï¼Œå¦‚æœå‘ç°æ— äººå±…ä½ï¼Œä¹Ÿè®¸å°±åœ¨é‚£é‡Œå®šå±…æˆ–è€…çºµç«ã€‚ä¸€é¢å¢™ï¼Œå¦‚æœå‡ºç°ä¸€äº›æ¶‚é¸¦æ²¡æœ‰è¢«æ¸…æ´—æ‰ï¼Œå¾ˆå¿«çš„ï¼Œå¢™ä¸Šå°±å¸ƒæ»¡äº†ä¹±ä¸ƒå…«ç³Ÿã€ä¸å ªå…¥ç›®çš„ä¸œè¥¿ï¼›ä¸€æ¡äººè¡Œé“æœ‰äº›è®¸çº¸å±‘ï¼Œä¸ä¹…åå°±ä¼šæœ‰æ›´å¤šåƒåœ¾ï¼Œæœ€ç»ˆäººä»¬ä¼šè§†è‹¥ç†æ‰€å½“ç„¶åœ°å°†åƒåœ¾é¡ºæ‰‹ä¸¢å¼ƒåœ¨åœ°ä¸Šã€‚è¿™ä¸ªç°è±¡ï¼Œå°±æ˜¯çŠ¯ç½ªå¿ƒç†å­¦ä¸­çš„<strong>ç ´çª—æ•ˆåº”</strong>ï¼Œåœ¨ç¼–ç¨‹é¢†åŸŸåŒæ ·å­˜åœ¨ã€‚</p></blockquote><p>è¦åšåˆ°ï¼š<strong>åªè¦æ˜¯ç»è¿‡ä½ æ‰‹çš„ä»£ç ï¼Œéƒ½ä¼šæ¯”ä¹‹å‰å¥½ä¸€ç‚¹ã€‚</strong></p><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a href="http://www.cnblogs.com/constantince/p/5580003.html" target="_blank" rel="noopener">javascriptçš„apiè®¾è®¡åŸåˆ™</a></li><li><a href="http://alistapart.com/article/coding-with-clarity" target="_blank" rel="noopener">Coding with Clarity</a></li><li><a href="https://dev.to/raulavila/dont-leave-broken-windows" target="_blank" rel="noopener">Donâ€™t leave broken windows</a></li><li><a href="https://segmentfault.com/a/1190000008780076" target="_blank" rel="noopener">ä»JSå¯¹è±¡å¼€å§‹ï¼Œè°ˆä¸€è°ˆâ€œä¸å¯å˜æ•°æ®â€å’Œå‡½æ•°å¼ç¼–ç¨‹</a></li><li><a href="https://segmentfault.com/a/1190000012972191" target="_blank" rel="noopener">é‡æ„ - ä»£ç ä¼˜åŒ–æŠ€å·§</a></li><li><a href="https://www.w3cplus.com/css/the-important-css-declaration-how-and-when-to-use-it.html" target="_blank" rel="noopener">å¦‚ä½•å’Œä½•æ—¶ä½¿ç”¨CSSçš„!important</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity" target="_blank" rel="noopener">cssä¼˜å…ˆçº§</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å¥½å¥½å†™ä»£ç &quot;&gt;&lt;a href=&quot;#å¥½å¥½å†™ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;å¥½å¥½å†™ä»£ç &quot;&gt;&lt;/a&gt;å¥½å¥½å†™ä»£ç &lt;/h1&gt;&lt;p&gt;ä½œä¸ºä¸€ä¸ªåˆšå†™ä»£ç ä¸ä¹…çš„å°èœé¸Ÿï¼Œå·¥ä½œçš„åŠå¹´å¤šè®©æˆ‘è¶Šå‘æ„è¯†åˆ°æé«˜ä»£ç è´¨é‡çš„é‡è¦æ€§ã€‚ä»å‰åªä¼šå…³æ³¨å®ç°åŠŸèƒ½ï¼Œæ…¢æ…¢çš„å¼€å§‹å…³æ³¨æ€§
      
    
    </summary>
    
    
      <category term="coding" scheme="https://blog.markeyme.cn/tags/coding/"/>
    
  </entry>
  
  <entry>
    <title>markey</title>
    <link href="https://blog.markeyme.cn/2018/01/16/markey/"/>
    <id>https://blog.markeyme.cn/2018/01/16/markey/</id>
    <published>2018-01-16T13:13:16.000Z</published>
    <updated>2018-01-17T14:05:25.016Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å°ç«™ç»ˆäºæ­å¥½å•¦"><a href="#å°ç«™ç»ˆäºæ­å¥½å•¦" class="headerlink" title="å°ç«™ç»ˆäºæ­å¥½å•¦"></a>å°ç«™ç»ˆäºæ­å¥½å•¦</h1><p>ä¸ºäº†çºªå¿µè¿™æ„ä¹‰é‡å¤§çš„æ—¶åˆ»ï¼Œä¸€å®šè¦å†™ç¯‡æ–‡ç« åº†ç¥ä¸‹ï¼Œä¸»é¢˜ä¸æ˜¯åˆ«çš„ï¼Œå°±æ˜¯æˆ‘ã€‚</p><h2 id="æ­ªæŸæŸâ€”-ä¸€ä¸ªåŠªåŠ›çš„å‰ç«¯ç¨‹åºçŒ¿å…¼é¼“æ‰‹"><a href="#æ­ªæŸæŸâ€”-ä¸€ä¸ªåŠªåŠ›çš„å‰ç«¯ç¨‹åºçŒ¿å…¼é¼“æ‰‹" class="headerlink" title="æ­ªæŸæŸâ€” ä¸€ä¸ªåŠªåŠ›çš„å‰ç«¯ç¨‹åºçŒ¿å…¼é¼“æ‰‹"></a>æ­ªæŸæŸâ€” ä¸€ä¸ªåŠªåŠ›çš„å‰ç«¯ç¨‹åºçŒ¿å…¼é¼“æ‰‹</h2><p>ç§°è°“ï¼š</p><ul><li>å¤§å¤´ï¼ˆå› ä¸ºå§“æ°çš„ç¼˜æ•…ï¼Œè¿™ä¸ªæ˜µç§°æ˜¯è¢«ç”¨çš„æœ€ä¹…çš„ï¼Œè´¯ç©¿æˆ‘çš„æ•´ä¸ªç«¥å¹´ã€å°‘å¹´æ—¶ä»£â€¦ï¼‰</li><li>æ­ª**ï¼ˆé«˜ä¸­æ—¶å¼€å§‹ç”¨ï¼Œä¸»è¦åœ¨ç½‘ä¸Šç”¨ï¼Œæ²¡ä»€ä¹ˆå«ä¹‰ï¼Œå¥½ç©è€Œå·²ï¼‰</li><li>markeyï¼ˆç åï¼šå³ä½œä¸ºå¼€å‘è€…çš„æ˜µç§°ï¼‰</li></ul><p>2017å¹´6æœˆ25æ—¥æ¯•ä¸šäºä¸œåŒ—æ—ä¸šå¤§å­¦ï¼Œä¿¡æ¯ç®¡ç†ä¸ä¿¡æ¯ç³»ç»Ÿä¸“ä¸šï¼ˆä¸€åŠè®¡ç®—æœºä¸€åŠç®¡ç†ï¼‰ã€‚å¤§å­¦æœŸé—´æ²¡å‚ä¸ä»»ä½•æ ¡ç»„ç»‡ï¼ˆå› ä¸ºè§‰å¾—å®˜åƒšï¼‰ï¼Œå€’æ˜¯æŠŠä¸€å¤§åŠç²¾åŠ›æ”¾åœ¨äº†ç¤¾å›¢ä¸Šï¼Œä¸€ä¸ªæ˜¯å¼‚æ—æ‘‡æ»šç¤¾ï¼Œä¸€ä¸ªæ˜¯606è½¯ä»¶å·¥ä½œå®¤ã€‚å¯ä»¥è¯´è¿™ä¸¤ä¸ªç¤¾å›¢çš„ç»å†å†³å®šäº†æˆ‘ç°åœ¨çš„è·¯ã€‚</p><p>å­¦ç”Ÿæ—¶ä»£å–œæ¬¢å®‰é™ï¼Œä¸å¤ªå‚ä¸ç¤¾äº¤ï¼Œé€ æˆäº†ç°åœ¨è¡¨è¾¾èƒ½åŠ›æ¬ ä½³ã€‚å¾ˆå¤šæ—¶å€™æƒ³æ³•æœ‰äº†ï¼Œä¸çŸ¥å¦‚ä½•è¡¨è¾¾ï¼Œéå¸¸æ— å¥ˆå•Šã€‚å·¥ä½œåè¿™ä¸ªé—®é¢˜æ›´åŠ å‡¸æ˜¾å‡ºæ¥ï¼Œæœ€è¿‘æ­£åœ¨æ…¢æ…¢æ”¹è¿›ã€‚</p><p>ä»å°åˆ°å¤§å°±ä¸€ç›´æœ‰è‚¡å€”åŠ²ï¼Œå¯¹äºè‡ªå·±å–œæ¬¢çš„äº‹ï¼Œéå¸¸æ‰§ç€ã€æˆ‘è¡Œæˆ‘ç´ ã€‚å­¦ç”Ÿæ—¶ä»£å¯ä»¥æ€»ç»“ä¸ºè¿™å‡ ä»¶äº‹ï¼š</p><ul><li>å°å­¦ï¼šé­”å…½3ã€cs</li><li>åˆä¸­ï¼šç¯®çƒ</li><li>é«˜ä¸­ï¼šå­¦ä¹ </li><li>å¤§å­¦ï¼šéŸ³ä¹ã€å‰ç«¯</li></ul><p>å°å­¦æ—¶æ˜¯ä¸ªç½‘ç˜¾å°‘å¹´ï¼Œç«‹å¿—æˆä¸ºskyé‚£æ ·çš„ç”µç«é€‰æ‰‹ï¼Œå¤©å¤©æ‰“é­”å…½ã€csã€‚è‡ªä»¥ä¸ºåœ¨æœ‹å‹åœˆä¸­æ°´å¹³å°šä½³ï¼Œä½†ä¹Ÿå› æ­¤æˆç»©æ¸£çš„ä¸€é€¼ï¼Œå‡å­¦è€ƒè¯•æ²¡èƒ½è¿›å…¥é‡ç‚¹ç­ã€‚</p><p>åˆä¸­æ¸æ¸æ”¾å¼ƒç”µç«ï¼Œåˆå¼€å§‹æ²‰è¿·ç¯®çƒï¼Œæ¨¡æ¿ä¸ºNBAä¼Ÿå¤§å°„æ‰‹Ray.Allenã€‚åˆäºŒè¿˜å‚åŠ è¿‡è®­ç»ƒè¥ï¼Œè§è¯†åˆ°ä¸–ç•Œä¹‹å¤§åå¤‡å—æ‰“å‡»ï¼Œé‚ä¸“å¿ƒå­¦ä¹ ã€‚</p><p>é«˜ä¸­æ—¶ä»£ç”±äºç¯®çƒæ‰“å¾—è¿˜è¡Œï¼Œå­¦ä¹ æˆç»©ä¹Ÿä¸é”™ï¼Œå…ˆåè¢«å‡ ä¸ªå¦¹å­æš§æ˜§ï¼Œä½†æ²¡ä¸€ä¸ªæœ‰ç»“æœã€‚é‚£æ—¶å€™è„‘å­é‡Œå°±åªæœ‰å­¦ä¹ â€¦æƒ…å•†å•Šâ€¦</p><p>é™„ä¸€å¼ é«˜ä¸­æ—¶ä»£ä»…æœ‰çš„å›¾ï¼Œè¢«é‚»æ¡Œå·æ‹çš„ï¼š<br><img src="/assets/high_school.jpeg" alt="é«˜ä¸­"></p><p>å¤§å­¦æ—¶çš„ç»å†ç€å®å†³å®šäº†æˆ‘ç°åœ¨çš„æ–¹å‘ã€‚åŠ å…¥äº†å¼‚æ—æ‘‡æ»šç¤¾è®©æˆ‘ä½“ä¼šåˆ°äº†è´£ä»»ä¸æ‹…å½“ï¼Œä¹Ÿç»™äºˆäº†æˆ‘ç»ˆç”Ÿçš„çˆ±å¥½ï¼›åŠ å…¥è½¯ä»¶å·¥ä½œå®¤è®©æˆ‘æ¥è§¦äº†å‰ç«¯ï¼Œè¿›å…¥äº†äº’è”ç½‘è¡Œä¸šï¼Œä¹Ÿå­¦ä¼šäº†ä¸€é—¨å…»æ´»è‡ªå·±çš„æœ¬äº‹ã€‚</p><p>å› ä¸ºå–œæ¬¢æ—¥æœ¬è§†è§‰ç³»æ‘‡æ»šï¼Œå¤§å­¦æ¼”å‡ºç‰¹æ„è®©å·¦è¾¹è¿™ä¸ªæ¼‚äº®çš„å¦¹å­ç»™ç”»äº†ä¸ªéå¸¸è§†è§‰ç³»çš„æµ“å¦†â€¦åæ¥è¿˜ç”»è¿‡å‡ æ¬¡ï¼Œä½†éƒ½æ²¡è¿™æ¬¡æˆåŠŸã€‚<br><img src="/assets/college_1.jpeg" alt="æµ“å¦†"></p><p>å¦‚ä»Šï¼Œå·²å·¥ä½œåŠå¹´ï¼Œæ¯å¤©æ²‰è¿·å·¥ä½œæ— æ³•è‡ªæ‹”ï¼Œåªæƒ³åŠªåŠ›æˆé•¿ï¼Œæ—©æ—¥æˆä¸ºå¤§ç‰›ã€‚ä¹‹åæœ‰æ—¶é—´äº†ï¼Œè¿˜è®¡åˆ’ç»§ç»­ç©ä¸ªä¹é˜Ÿï¼Œæ²¡äº‹å„¿å½•ä¸ªè§†é¢‘ã€æ’æ’ç»ƒï¼Œä¹Ÿæ˜¯æå¥½çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å°ç«™ç»ˆäºæ­å¥½å•¦&quot;&gt;&lt;a href=&quot;#å°ç«™ç»ˆäºæ­å¥½å•¦&quot; class=&quot;headerlink&quot; title=&quot;å°ç«™ç»ˆäºæ­å¥½å•¦&quot;&gt;&lt;/a&gt;å°ç«™ç»ˆäºæ­å¥½å•¦&lt;/h1&gt;&lt;p&gt;ä¸ºäº†çºªå¿µè¿™æ„ä¹‰é‡å¤§çš„æ—¶åˆ»ï¼Œä¸€å®šè¦å†™ç¯‡æ–‡ç« åº†ç¥ä¸‹ï¼Œä¸»é¢˜ä¸æ˜¯åˆ«çš„ï¼Œå°±æ˜¯æˆ‘ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ­ªæŸ
      
    
    </summary>
    
    
      <category term="life" scheme="https://blog.markeyme.cn/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>gitæ€»ç»“</title>
    <link href="https://blog.markeyme.cn/2018/01/15/git%E6%80%BB%E7%BB%93/"/>
    <id>https://blog.markeyme.cn/2018/01/15/gitæ€»ç»“/</id>
    <published>2018-01-15T13:55:45.000Z</published>
    <updated>2018-03-21T09:57:06.420Z</updated>
    
    <content type="html"><![CDATA[<h1 id="GITå­¦ä¹ ç¬”è®°"><a href="#GITå­¦ä¹ ç¬”è®°" class="headerlink" title="GITå­¦ä¹ ç¬”è®°"></a>GITå­¦ä¹ ç¬”è®°</h1><p>ä»…ä¸ºæœ¬äººåœ¨å·¥ä½œè¿‡ç¨‹ä¸­å­¦ä¹ gitçš„ä¸€äº›ç»éªŒæ€»ç»“ï¼Œè¿˜æ˜¯gitèœé¸Ÿä¸€åªï¼Œæœ‰æ›´å¥½çš„è§è§£æ¬¢è¿ç•™è¨€ ~</p><h2 id="ç»éªŒæ€»ç»“"><a href="#ç»éªŒæ€»ç»“" class="headerlink" title="ç»éªŒæ€»ç»“"></a>ç»éªŒæ€»ç»“</h2><ol><li>åœ¨è§£å†²çªæ—¶ä¸€å®šè¦æ³¨æ„ï¼Œå¯¹è‡ªå·±ä¸ç†Ÿæ‚‰çš„ä»£ç è¦é—®é—®æ˜¯è°å†™çš„åœ¨è§£. å¦‚æœå‡ºç°é—®é¢˜ï¼Œç”¨ git merge â€“abort å¯ä»¥å°†å†²çªæ–‡ä»¶é€€å›åˆ°mergeä¹‹å‰çš„çŠ¶æ€</li><li>åœ¨æ–°å»ºä¸€ä¸ªå¼€å‘åˆ†æ”¯æ—¶ï¼Œä¸€å®šè¦åŸºäºmasteråˆ†æ”¯å»ºï¼Œä¸è¦è®©å…¶ä»–åˆ†æ”¯ä¸Šçš„ä»£ç æºå…¥ä½ çš„å¼€å‘åˆ†æ”¯</li><li>è‹¥æƒ³æ›´æ–°æœ¬åœ°ä»“åº“ä¸­çš„åˆ†æ”¯æˆ–tagï¼Œç”¨ <strong>git fetch [è¿œç¨‹ä»“åº“]</strong> åˆ™å°†è¿œç¨‹ä»“åº“çš„æ‰€æœ‰æ›´æ–°å–å›æœ¬åœ°ï¼Œ<strong>git fetch [è¿œç¨‹ä»“åº“] &lt;åˆ†æ”¯å></strong> è¿˜å¯ä»¥åœ¨åé¢åˆ¶å®šåˆ†æ”¯åï¼Œè¡¨ç¤ºåªå–å¾—è¯¥åˆ†æ”¯çš„æ›´æ–°ï¼Œ<strong>git fetch â€“t</strong> è¡¨ç¤ºå–å¾—æ‰€æœ‰æ›´æ–°åŠtag</li></ol><h2 id="é…ç½®ç›¸å…³"><a href="#é…ç½®ç›¸å…³" class="headerlink" title="é…ç½®ç›¸å…³"></a>é…ç½®ç›¸å…³</h2><ol><li><strong>git config â€“list</strong> æŸ¥çœ‹å½“å‰çš„é…ç½®é¡¹ï¼›</li><li><strong>git config â€“unset [é…ç½®é”®].[é…ç½®å]</strong> åˆ é™¤æŸé¡¹é…ç½®ï¼›</li><li><strong>git config â€“global alias.br branch</strong> è®¾ç½®brä¸ºbranchå‘½ä»¤å¿«æ·å‘½ä»¤(å…¨å±€)ï¼›</li></ol><h2 id="åˆ†æ”¯ç›¸å…³"><a href="#åˆ†æ”¯ç›¸å…³" class="headerlink" title="åˆ†æ”¯ç›¸å…³"></a>åˆ†æ”¯ç›¸å…³</h2><ol><li>è¦åˆ é™¤è¿œç«¯åˆ†æ”¯ï¼Œå¯ä»¥ <strong>git push origin :feature-index-1207</strong>ï¼Œåœ¨åˆ†æ”¯å‰åŠ ä¸ªå†’å·è¡¨ç¤ºä¸ºç©ºåˆ†æ”¯ï¼Œæ¨é€ä¸€ä¸ªç©ºåˆ†æ”¯åˆ°è¿œç«¯å°±åˆ é™¤äº†è¿™ä¸ªåˆ†æ”¯ï¼›</li><li>gitæ˜¯æ”¯æŒå°†æœ¬åœ°åˆ†æ”¯pushåˆ°è¿œç¨‹çš„å¦ä¸€ä¸ªåˆ†æ”¯çš„<br><strong>git push origin develop:master -f</strong><br>å°†æœ¬åœ°çš„develop pushåˆ°è¿œç«¯çš„masteråˆ†æ”¯ï¼Œ<strong>-fä¸ºå¼ºåˆ¶æ ‡è®°</strong></li><li><strong>git branch â€“m æ—§åˆ†æ”¯å æ–°åˆ†æ”¯å</strong> é‡å‘½åæŸä¸ªåˆ†æ”¯</li><li>è‹¥pushä¹‹å‰æ²¡æœ‰pullè¿œç«¯ä»£ç ï¼Œå¹¶ä¸”è¿œç«¯æœ‰ä¿®æ”¹çš„è¯ï¼Œæ˜¯ä¸èƒ½pushä¸Šå»çš„ï¼Œä¼šæç¤ºä½ å…ˆpullå†push.</li><li><p><strong>git branch â€“set-upstream-to origin/[branch]</strong> è®¾ç½®æœ¬åœ°åˆ†æ”¯è·Ÿè¸ªè¿œç«¯åˆ†æ”¯ï¼Œ<strong>å½“è¿™æ ·è®¾ç½®åï¼Œpullä»¥åŠpushéƒ½æ— éœ€æŒ‡å®šorigin [branch]äº†</strong>ã€‚</p><blockquote><p><strong>æ³¨</strong>ï¼špushæœ¬åœ°æ–°å»ºçš„åˆ†æ”¯åˆ°è¿œç«¯ï¼Œå¯ä»¥ç”¨<strong>git push â€“u origin [branch]</strong>ï¼Œè¿™æ ·å°±è‡ªåŠ¨è·Ÿè¸ªäº†è¿œç«¯çš„è¿™ä¸ªåˆ†æ”¯ </p></blockquote></li><li><p><strong>git branch â€“unset-upstream</strong> æ¸…é™¤å½“å‰åˆ†æ”¯çš„è¿½è¸ªåˆ†æ”¯</p></li><li><strong>git branch â€“track [branch] [remote-branch]</strong> æ–°å»ºä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ï¼Œå¹¶ä¸è¿œç«¯åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</li><li>æ–°å»ºçš„å¼€å‘åˆ†æ”¯ä¸ç”¨æ—¶åˆ»ä¿æŒè·Ÿmasteræœ€æ–°çš„å…³ç³»ï¼Œåˆå¹¶åˆ°masterçš„æ—¶å€™åªæ˜¯æŠŠä½ çš„ä¿®æ”¹åˆå¹¶ï¼Œå¹¶ä¸ä¼šå°†ä½ çš„åˆ†æ”¯çš„å…¶ä»–ä»£ç ä¹Ÿåˆå¹¶ï¼Œå°±æ˜¯è¯´masterä¸­ä»£ç è¿˜æ˜¯æœ€æ–°çš„ï¼Œå¹¶ä¸”æ·»åŠ ä¸Šäº†ä½ çš„åˆ†æ”¯çš„ä¿®æ”¹ï¼Œè‹¥æœ‰å†²çªåˆ™ä¼šåˆå¹¶å¤±è´¥ï¼Œéœ€è¦è§£å†²çªã€‚</li><li>ä½¿ç”¨<strong>git rebase [åˆ†æ”¯å]</strong>â€œå¹²å‡€åœ°â€åˆå¹¶ã€‚ä¸mergeä¸€æ ·ï¼Œä¸»è¦éƒ½æ˜¯ä¸ºäº†ä¿æŒå¼€å‘åˆ†æ”¯ä¸masteråŒæ­¥ã€‚åªä¸è¿‡mergeä¼šä¿ç•™å¾ˆå¤šæ— ç”¨çš„commitï¼Œå¹¶ä¸”commitçš„é¡ºåºæ˜¯æ ¹æ®æ—¶é—´æ’åºçš„ï¼Œè€Œrebaseé»˜è®¤åˆ™æ˜¯å°†å¼€å‘åˆ†æ”¯çš„commitæ’åœ¨æœ€åï¼ˆå°½ç®¡å¯èƒ½commitæ—¶é—´æ¯”masteræŸäº›commitæ—©ï¼‰ã€‚<ul><li>å½“rebaseè¿‡ç¨‹ä¸­æœ‰å†²çªæ—¶å¯ä»¥ç”¨<strong>git rebase â€“abort</strong>ã€<strong>git rebase â€“continue</strong>ç­‰å‘½ä»¤æ§åˆ¶rebaseæµç¨‹</li><li>ä½¿ç”¨<strong>git rebase -i [åˆ†æ”¯å]</strong>å¯ä»¥åšå¾ˆå¤šcommitç›¸å…³æ“ä½œï¼Œå¦‚å¯ä»¥ä¿®æ”¹commit messageã€å°†å¤šä¸ªcommitåˆå¹¶ä¸ºä¸€ä¸ªç­‰</li></ul></li><li>å½“æœ¬åœ°æœ‰ä¿®æ”¹æœªæ·»åŠ åˆ°æš‚å­˜åŒºæˆ–æäº¤æ—¶ï¼Œä¼šæ— æ³•checkoutåˆ°å·²æœ‰åˆ†æ”¯ï¼Œè€Œç”¨<strong>git checkout -b [æ–°åˆ†æ”¯å]</strong>å‘½ä»¤åˆ‡æ¢åˆ°æ–°åˆ†æ”¯åˆ™æ²¡é—®é¢˜ï¼Œå¹¶ä¼šæŠŠä¿®æ”¹å¸¦åˆ°æ–°åˆ†æ”¯<ul><li>è¯¥é—®é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>git stash</strong>å‘½ä»¤è§£å†³ï¼Œè¯¥å‘½ä»¤å°†å·¥ä½œåŒºçš„ä¿®æ”¹ä¿å­˜ï¼Œé€šè¿‡<strong>git stash list</strong>å¯ä»¥æŸ¥çœ‹å½“å‰ä¿å­˜çš„æ‰€æœ‰æ“ä½œ</li><li><strong>git stash pop [stashåºå·]</strong>æ¢å¤ä¿å­˜çš„å·¥ä½œåŒºä¿®æ”¹åˆ°å½“å‰åˆ†æ”¯</li><li><strong>git stash clear</strong>æ¸…ç©ºæ‰€æœ‰stash</li></ul></li><li><strong>git merge â€“squash [åˆ†æ”¯å]</strong>å°†æœ¬åœ°å¦ä¸€ä¸ªåˆ†æ”¯æ‰€æœ‰æäº¤åˆå¹¶ä¸ºä¸€ä¸ªï¼Œå¹¶æ·»åŠ åˆ°å½“å‰åˆ†æ”¯çš„æš‚å­˜åŒº</li></ol><h2 id="å¯¹æ¯”åŠå›é€€"><a href="#å¯¹æ¯”åŠå›é€€" class="headerlink" title="å¯¹æ¯”åŠå›é€€"></a>å¯¹æ¯”åŠå›é€€</h2><ol><li><p>gitæ¯”å¯¹æœ¬æ¬¡è·Ÿä¸Šæ¬¡æäº¤çš„åŒºåˆ«: <strong>git diff HEAD HEAD^ â€“stat</strong>(æ˜¾ç¤ºçš„ä¸è¯¦ç»†)ï¼›</p><blockquote><p><strong>æ³¨</strong>ï¼šgit diff æ­¤å‘½ä»¤æ¯”è¾ƒçš„æ˜¯å·¥ä½œç›®å½•ä¸­å½“å‰æ–‡ä»¶å’Œæš‚å­˜åŒºåŸŸå¿«ç…§ä¹‹é—´çš„å·®å¼‚ï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹ä¹‹åè¿˜æ²¡æœ‰æš‚å­˜èµ·æ¥çš„å˜åŒ–å†…å®¹ã€‚(è‹¥æ²¡æœ‰æäº¤æš‚å­˜åŒºï¼Œåˆ™ä¼šæ¯”å¯¹ä¸Šæ¬¡æäº¤çš„å¿«ç…§)<br></p><p><strong>æ³¨</strong>ï¼šè‹¥è¦çœ‹å·²ç»æš‚å­˜èµ·æ¥çš„æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å¿«ç…§ä¹‹é—´çš„å·®å¼‚ï¼Œå¯ä»¥ç”¨ <strong>git diff â€“cached</strong> å‘½ä»¤ã€‚</p></blockquote></li><li><p><strong>git reset â€“hard [commit_id]</strong> å›é€€åˆ°æŸæ¬¡çš„commitçŠ¶æ€ï¼Œå¹¶å°†<strong>æœ¬åœ°æºç ä¹Ÿæ¢å¤åˆ°é‚£æ¬¡commitçš„çŠ¶æ€</strong><br><br><strong>git reset â€“soft [commit_id]</strong> å›é€€åˆ°æŸæ¬¡çš„commitçŠ¶æ€ï¼Œä½†<strong>æœ¬åœ°æºç ä¿æŒä¸å˜ï¼Œå¹¶ä¿å­˜åˆ°æš‚å­˜åŒº</strong>ï¼Œå¦‚éœ€æäº¤ï¼Œé‡æ–°æäº¤å³å¯<br><br><strong>git reset [commit-id]ï¼ˆgit reset â€“mixed [commit-id]ï¼‰</strong> å›é€€åˆ°æŸæ¬¡çš„commitçŠ¶æ€ï¼Œä½†æœ¬åœ°æºç ä¿æŒä¸å˜ï¼Œå¦‚éœ€æäº¤ï¼Œé‡æ–°æäº¤å³å¯<br><br><strong>git reset HEAD <file\></file\></strong> æ’¤é”€å·²æš‚å­˜çš„æ–‡ä»¶<br><br><strong>git reset HEAD~[n]</strong> æ’¤é”€åˆ°å€’æ•°ç¬¬næ¬¡æäº¤<br><br><strong>git checkout <file\></file\></strong> æ‘’å¼ƒå¯¹æ–‡ä»¶çš„ä¿®æ”¹(è‹¥æ— æš‚å­˜çŠ¶æ€ï¼Œåˆ™ä¼šé€€åˆ°ä¸Šæ¬¡commitï¼›  è‹¥æœ‰ï¼Œåˆ™å›é€€åˆ°ä¸Šæ¬¡æš‚å­˜çŠ¶æ€)<br><br><strong>git reset [commit-id | åˆ†æ”¯å] <file-name\></file-name\></strong> ä¹Ÿå¯ä»¥å°†å•ä¸ªæ–‡ä»¶æ¢å¤åˆ°æŒ‡å®šæäº¤ï¼Œä½†æ— æ³•ä½¿ç”¨ä»¥ä¸Šæ¨¡å¼ï¼Œ<strong>å½“å‰åˆ†æ”¯ä¿®æ”¹ä¿æŒä¸å˜ï¼Œresetåˆ°çš„ç›®æ ‡åˆ†æ”¯åŠ å…¥åˆ°æš‚å­˜åŒº</strong></p><blockquote><p><strong>æ³¨</strong>ï¼šgit reset åˆ°æŸæ¬¡commitéƒ½ä¼šåˆ é™¤git logä¸­é‚£æ¬¡çš„commitä¿¡æ¯ï¼Œå³å›é€€åå°±æ— æ³•å†å›åˆ°ä¹‹å‰çš„commitäº†<br></p><p><strong>æ³¨</strong>ï¼šgit reset ä¹Ÿå¯ä»¥resetåˆ°<em>å¦ä¸€ä¸ªåˆ†æ”¯</em>çš„æœ€åä¸€æ¬¡æäº¤çŠ¶æ€ï¼Œå¦‚: <strong>git reset â€“hard develop</strong>ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥resetåˆ°è¿œç«¯åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤ï¼Œå¦‚<strong>git reset â€“hard origin/[è¿œç«¯åˆ†æ”¯å]</strong><br></p></blockquote></li><li><p><strong>git revert HEAD</strong> å›é€€åˆ°æœ€è¿‘ä¸€æ¬¡æäº¤çš„<strong>å‰ä¸€æ¬¡æäº¤</strong><br><br><strong>git revert HEAD~[n]</strong> å›é€€åˆ°å€’æ•°ç¬¬næ¬¡æäº¤çš„<strong>å‰ä¸€æ¬¡æäº¤</strong><br><br><strong>git revert [commit_id]</strong> å›é€€åˆ°æŒ‡å®šæäº¤çš„<strong>å‰ä¸€æ¬¡æäº¤</strong><br></p><blockquote><p><strong>æ³¨</strong>ï¼šrevertç›¸æ¯”resetæ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒæ˜¯ç”Ÿæˆä¸€æ¬¡æ–°çš„æäº¤è®°å½•ï¼Œä¿ç•™åŸæœ‰çš„æäº¤è®°å½•ã€‚</p><p><strong>æ³¨</strong>ï¼šç»æµ‹è¯•ï¼Œè¿™é‡Œæ‰€è¯´çš„<strong>å‰ä¸€æ¬¡æäº¤</strong>æ˜¯æŒ‡ä»£ç æ˜¯å‰ä¸€æ¬¡æäº¤çš„çŠ¶æ€ï¼Œä½†æ˜¾ç¤ºrevertåˆ°çš„commit_idè¿˜æ˜¯æŒ‡å®šçš„commit_idã€‚è¿™ä¸€ç‚¹è¦è·ŸresetåŒºåˆ†å¼€ã€‚</p></blockquote></li><li><strong>git commit â€“amend</strong> å°†æš‚å­˜åŒºä¸­çš„æ›´æ”¹æ›´æ–°åˆ°æœ€è¿‘ä¸€æ¬¡æäº¤ï¼ˆä¸ä¼šäº§ç”Ÿæ–°çš„æäº¤è®°å½•ï¼‰<blockquote><p><strong>æ³¨</strong>ï¼šè‹¥æäº¤æ—¶å¿˜äº†æäº¤æŸäº›ä¿®æ”¹å¯ä»¥ç”¨è¯¥æ–¹æ³•è¡¥æ•‘</p></blockquote></li><li><strong>git log -p [file]</strong> æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶æ¯æ¬¡æäº¤çš„diff</li><li><strong>git log -g</strong> æŒ‰ç…§æ“ä½œé¡ºåºæŸ¥çœ‹æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬checkoutã€commitã€mergeã€resetç­‰ç­‰ã€‚å½“åˆ†æ”¯è¢«è¯¯åˆ ï¼Œæƒ³è¦æ¢å¤é‚£ä¸ªåˆ†æ”¯çš„ä»£ç æ—¶ï¼Œè¯¥æŒ‡ä»¤å¾ˆæœ‰æ•ˆã€‚ä½¿ç”¨ <strong>git branch [åˆ†çŸ¥å] [commit_id]</strong> å³å¯æ¢å¤åˆ†æ”¯ã€‚<blockquote><p><strong>æ³¨</strong>ï¼šæ·»åŠ åˆ°æš‚å­˜åŒºæ˜¯ä¸ä¼šæœ‰è®°å½•çš„</p></blockquote></li><li><strong>git cherry-pick [commit_id]</strong>å¯ä»¥å°†å…¶ä»–åˆ†æ”¯ä¸Šçš„æäº¤ï¼Œåœ¨å½“å‰åˆ†æ”¯å†æäº¤ä¸€æ¬¡ï¼Œç”Ÿæˆçš„æ–°commit_idä¸åŒ</li></ol><h2 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h2><p><strong>åŸç†</strong>ï¼š<br><br>ä½ å¿…é¡»ä¸ºè‡ªå·±åˆ›å»ºä¸€å¯¹<em>å¯†åŒ™</em>ï¼Œå¹¶æŠŠ<em>å…¬é’¥</em>æ”¾åœ¨éœ€è¦è®¿é—®çš„æœåŠ¡å™¨ä¸Šã€‚å¦‚æœä½ è¦è¿æ¥åˆ°SSHæœåŠ¡å™¨ä¸Šï¼Œå®¢æˆ·ç«¯è½¯ä»¶å°±ä¼šå‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œ<strong>è¯·æ±‚ç”¨ä½ çš„<em>å…¬é’¥</em>è¿›è¡Œå®‰å…¨éªŒè¯</strong>ã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œå…ˆåœ¨ä½ åœ¨è¯¥æœåŠ¡å™¨çš„ç›®å½•ä¸‹å¯»æ‰¾ä½ çš„<em>å…¬é’¥</em>ï¼Œç„¶åæŠŠå®ƒå’Œä½ å‘é€è¿‡æ¥çš„å…¬é’¥è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤ä¸ªä¸€è‡´ï¼ŒæœåŠ¡å™¨å°±ç”¨<strong>å…¬é’¥åŠ å¯†â€œè´¨è¯¢â€ï¼ˆchallengeï¼‰</strong>å¹¶æŠŠå®ƒå‘é€ç»™å®¢æˆ·ç«¯è½¯ä»¶ã€‚å®¢æˆ·ç«¯è½¯ä»¶æ”¶åˆ°â€œè´¨è¯¢â€ä¹‹åå°±å¯ä»¥ç”¨ä½ çš„<em>å¯†é’¥è§£å¯†</em>å†æŠŠå®ƒå‘é€ç»™æœåŠ¡å™¨ã€‚<br><strong>SSH key(å¯†é’¥å¯¹)</strong>ï¼š<br><br>æ˜¯gitå¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯çš„é‡è¦æ ¹æ®ï¼Œè‹¥è¯¥ç”¨æˆ·çš„ç”µè„‘ä¸Šæ²¡æœ‰ssh keyï¼Œæˆ–è€…æœ‰ä½†æ˜¯æ²¡æœ‰æ·»åŠ è‡³ssh agentæˆ–ä½ çš„git accountï¼Œæ˜¯æ— æ³•è¿æ¥åˆ°githubè¿›è¡Œè¿œç«¯æ“ä½œçš„(å¯é€šè¿‡<strong>ssh -T git@github.com</strong> å‘½ä»¤æ‰éªŒè¯)<br><br>å› æ­¤ï¼Œéœ€è¦åˆ›å»ºssh keyå¹¶æ·»åŠ è‡³ä½ çš„git accountã€‚<br>æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>æœ¬åœ°åˆ›å»ºssh key</strong><br><br>åœ¨git bashä¸­è¾“å…¥ <strong>ssh-keygen -t rsa -C â€œyour email addressâ€</strong>å‘½ä»¤ï¼Œç„¶åå›è½¦ï¼Œå†è¾“å…¥ä¸¤æ¬¡å¯†ç å³å¯(è¯¥å¯†ç åœ¨ä½ è®¾ç½®ssh key åˆ°git accountæ—¶ä¼šç”¨åˆ°)</li><li><strong>æ·»åŠ åˆ°ä½ çš„ssh agentä¸Š</strong><br><br>å…ˆæ£€æµ‹ssh-agentæ˜¯å¦è¿è¡Œ <strong>$ eval $(ssh-agent -s)</strong><br>æ·»åŠ SSH keyåˆ°ssh-agent <strong>$ ssh-add ä½ çš„å¯†é’¥æ–‡ä»¶è·¯å¾„(ä¸€èˆ¬æ˜¯id_rsa)</strong></li><li><p>ç™»å½•åˆ°ä½ çš„gitè´¦æˆ·ï¼Œåœ¨settingsç›®å½•ä¸‹æ‰¾åˆ°SSH keyè®¾ç½®ï¼Œå°†ä½ çš„å…¬é’¥å¤åˆ¶åˆ°keyé€‰é¡¹ä¸­ï¼Œtitleéšæ„ï¼Œå®Œäº‹ ~<br></p><blockquote><p><strong>æ³¨</strong>ï¼šå¯ä»¥é€šè¿‡<strong>ssh-add -l</strong>å‘½ä»¤åˆ¤æ–­å½“å‰æ­£åœ¨ä½¿ç”¨çš„ssh-keyï¼Œå¦‚æœæœ‰åœ¨ä½¿ç”¨çš„keyï¼Œåˆ™ä¼šè¾“å‡ºè¯¥keyçš„fingerprintã€‚å¹¶ä¸”é»˜è®¤çš„~/.ssh/id_rsaã€ ~/.ssh/id_dsaä»¥åŠ ~/.ssh/identityæ˜¯è‡ªåŠ¨åŠ å…¥SSH authentication agentçš„ï¼Œå› æ­¤æ— éœ€å†æ‰‹åŠ¨ssh-addï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯å…¶ä»–åå­—çš„keyï¼Œåˆ™è¦æ‰‹åŠ¨åŠ å…¥ï¼</p></blockquote></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;GITå­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#GITå­¦ä¹ ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;GITå­¦ä¹ ç¬”è®°&quot;&gt;&lt;/a&gt;GITå­¦ä¹ ç¬”è®°&lt;/h1&gt;&lt;p&gt;ä»…ä¸ºæœ¬äººåœ¨å·¥ä½œè¿‡ç¨‹ä¸­å­¦ä¹ gitçš„ä¸€äº›ç»éªŒæ€»ç»“ï¼Œè¿˜æ˜¯gitèœé¸Ÿä¸€åªï¼Œæœ‰æ›´å¥½çš„è§è§£æ¬¢è¿ç•™è¨€ ~&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="coding" scheme="https://blog.markeyme.cn/tags/coding/"/>
    
      <category term="git" scheme="https://blog.markeyme.cn/tags/git/"/>
    
  </entry>
  
</feed>
