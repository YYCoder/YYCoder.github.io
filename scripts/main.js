!function(a){var s={};function i(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=a,i.c=s,i.p="",i(0)}([function(e,t,a){"use strict";var s=a(1),i=a(2),n=a(4),r=a(5),o=a(6);console.info("hexo-theme-archer: v20180109"),(0,s.init)(),(0,i.scroll)(),(0,r.sidebarInit)(),(0,o.initTag)(),(0,n.initMobile)()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});document.addEventListener("DOMContentLoaded",function(){$(".container").removeClass("container-unloaded"),$(".footer").removeClass("footer-unloaded"),$(".loading").remove()},!1),t.init=function(){var e=$(".site-intro-img:first"),t=$(".site-intro-placeholder:first"),a=e.css("background-image").match(/url\("*([^"]*)"*\)/);if(a.length<2)console.log(a);else{var s=a[1],i=new Image;i.onload=function(){t.remove(),console.info("PLACEHOLDER REMOVED")},i.src=s}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scroll=void 0;var s,i=a(3),n=(s=i)&&s.__esModule?s:{default:s};t.scroll=function(){var d=$(".banner:first"),e=d.find(".post-title a"),t=$(".site-intro:first"),l=$(".home-link:first"),c=$(".back-top:first"),f=$(".header-sidebar-menu:first"),u=t.offset().top+t.outerHeight(),h=$(".toc-wrapper:first"),a=h.find(".toc-catalog"),v=$(".read-progress");a.on("click",function(){h.toggleClass("toc-hide-children")});var m=0,p=0;var g=-1,b=!0;var w=!1,C=void 0,M=void 0;$(".post-body").length&&(w=!0,M=u,C=$(".article-entry").outerHeight(),C=$(".container")[0].addEventListener("transitionend",function(){C=$(".article-entry").outerHeight()}));var k=!1;function s(e){var t,a,s,i,n,r=function(e){if(u<e){if(1!==g)return b=!(g=1),1}else if(-1!==g)return b=!0,g=-1;return 0}(e);if(1===r?(h.addClass("toc-fixed"),l.addClass("home-link-hide"),c.addClass("back-top-show"),f.addClass("header-sidebar-menu-black")):-1===r&&(h.removeClass("toc-fixed"),l.removeClass("home-link-hide"),d.removeClass("banner-show"),c.removeClass("back-top-show"),f.removeClass("header-sidebar-menu-black")),w){var o=30<(p+=e-m)?(p=0,1):p<-800?(p=0,-1):0;1===o?d.removeClass("banner-show"):-1!==o||b||d.addClass("banner-show"),t=e,a=M,s=C,i=$(window).height(),n=void 0,n=0<=(n=t<u?0:(t-a)/(s-i)*100)?n:100,v.css("width",n+"%")}m=e,k=!1}$(document).on("scroll",function(){var e=$(document).scrollTop(),t=s.bind(null,e);n.default.rafTick(k,t)}),[e,c].forEach(function(e){e.on("click",n.default.backTop)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={backTop:function(e){e.preventDefault();var t=setInterval(function(){var e=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*e))),0===e&&clearInterval(t)},20)},getAbsPosition:function(e){for(var t=e.offsetLeft,a=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,a+=e.offsetTop;return{x:t,y:a}},dateFormater:function(e,t){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,String(e.getFullYear()).substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[s]:("00"+a[s]).substr(String(a[s]).length)));return t},rafTick:function(e,t){e||requestAnimationFrame(t),e=!0}};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initMobile=function(){if(window.matchMedia){var e=window.matchMedia("(max-width: 900px)");e.addListener(t),t(e)}else window.addListener("resize",function(){t(900<(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)?{matches:!1}:{matches:!0})},!1);function t(e){e.matches?(console.log("mobile"),document.body.addEventListener("touchstart",function(){})):console.log("desktop")}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sidebarInit=function(){var o=$(".sidebar:first"),a=$(".wrapper:first"),d=$(".header-sidebar-menu:first"),l=o.find(".sidebar-content:first"),e=o.find(".sidebar-archive-link:first"),c=o.find(".sidebar-tags-link:first"),s=$(".toc-wrapper:first"),i=$(".header:first"),f=o.find(".sidebar-header:first");function n(e){this.scrollHeight===this.clientHeight?window.event.preventDefault():this.scrollTop<=0?0<e.originalEvent.wheelDelta&&window.event.preventDefault():this.scrollTop>=this.scrollHeight-this.clientHeight&&e.originalEvent.wheelDelta<0&&window.event.preventDefault()}d.on("click",function(e){var t;t=e,o.addClass("sidebar-show"),a.addClass("wrapper-slide"),i.addClass("header-slide"),s.addClass("toc-slide"),t.stopPropagation()}),o.on("click",function(e){e.stopPropagation()}),a.on("click",function(e){o.hasClass("sidebar-show")&&(e.preventDefault(),o.removeClass("sidebar-show"),i.removeClass("header-slide"),a.removeClass("wrapper-slide"),s.removeClass("toc-slide"))}),e.on("click",function(){l.addClass("sidebar-content-show-archive").removeClass("sidebar-content-show-tags sidebar-show-immediately"),f.addClass("sidebar-header-show-archive").removeClass("sidebar-header-show-tags sidebar-show-immediately")}),c.on("click",function(){l.addClass("sidebar-content-show-tags").removeClass("sidebar-content-show-archive sidebar-show-immediately"),f.addClass("sidebar-header-show-tags").removeClass("sidebar-header-show-archive sidebar-show-immediately")}),o.on("mousewheel",function(e){var t=e.target,a=o.find(".sidebar-tag-list:first"),s=o.find(".sidebar-archive:first");$.contains(a[0],t)||a===t?n.call(a[0],e):$.contains(s[0],t)||s===t?n.call(s[0],e):e.preventDefault()}),$(".post-tag").on("click",function(e){var t,a;t=!1,a=new MouseEvent("click",{bubbles:!0,cancelable:!0}),t=!(!f.hasClass("sidebar-header-show-archive")||o.hasClass("sidebar-show")),d[0].dispatchEvent(a),c[0].dispatchEvent(a),t&&(f.addClass("sidebar-show-immediately"),l.addClass("sidebar-show-immediately"));var s,i,n,r=e.target.dataset.href;s=r,i=$(".sidebar-tags-name:first")[0],n=new MouseEvent("click",{bubbles:!0,cancelable:!0}),d[0].dispatchEvent(n),i.currTagName=s,i.dispatchEvent(n),e.stopPropagation()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTag=void 0;var s,i=a(3),c=(s=i)&&s.__esModule?s:{default:s};t.initTag=function(){var d=void 0,l=new Map;!function(){var e=jsInfo.root+"content.json?t="+Number(new Date),t=new XMLHttpRequest;t.responseType="",t.open("get",e,!0);var a=$(".tag-load-fail:first");t.onload=function(){200===this.status||304===this.status?(a.remove(),function(t){for(var s=this,e=function(a){var e=t[a].tags;e.length&&e.forEach(function(e){if(l.has(e.name)){var t=l.get(e.name)+","+a.toString();l.set(e.name,t)}else l.set(e.name,a.toString())},s)},a=0;a<t.length;a++)e(a)}(d=JSON.parse(this.responseText))):(a[0].style.display="block",$(".sidebar-tags-name:first").remove())},t.send()}(),$(".sidebar-tags-name:first").on("click",function(e){e.preventDefault();var t=e.target;16&this.compareDocumentPosition(t)&&("SPAN"===t.tagName?this.currTagName=t.firstChild.innerHTML:this.currTagName=t.innerHTML);var a=l.get(this.currTagName);if(a){$(this).find(".sidebar-tag-name-focus").removeClass("sidebar-tag-name-focus");for(var s=this.children,i=0;i<s.length;i++)this.currTagName===s[i].firstChild.innerHTML&&s[i].classList.add("sidebar-tag-name-focus");var n=a.split(","),r=document.createDocumentFragment(),o=$(".sidebar-tag-list")[0];o.innerHTML="",n.forEach(function(e){var t,a,s;r.appendChild((t=d[e],a=$('<li class="tag-post-item"><span class="tag-post-date">'+c.default.dateFormater(new Date(Date.parse(t.date)),"yyyy/MM/dd")+"</span></li>"),s=$('<a class="tag-post-title" href="'+jsInfo.root+t.path+'">'+t.title+"</a>"),a.append(s),a)[0])}),o.appendChild(r)}})}}]);